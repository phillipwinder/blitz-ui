{"$schema":"https://ui.shadcn.com/schema/registry-item.json","name":"p-input-23","type":"registry:block","title":"Advanced password strength indicator with progress","description":"Advanced password strength indicator with progress","dependencies":[],"registryDependencies":["field","input"],"files":[{"path":"p-input-23.tsx","type":"registry:block","content":"\"use client\"\n\nimport { useId, useMemo, useState } from \"react\"\n\nimport { Field, FieldLabel } from \"@/components/ui/field\"\nimport { Input } from \"@/components/ui/input\"\nimport { IconPlaceholder } from \"@/app/(create)/components/icon-placeholder\"\n\nexport function Pattern() {\n  const id = useId()\n  const [password, setPassword] = useState(\"\")\n  const [isVisible, setIsVisible] = useState<boolean>(false)\n\n  const toggleVisibility = () => setIsVisible((prevState) => !prevState)\n\n  const checkStrength = (pass: string) => {\n    const requirements = [\n      { regex: /.{8,}/, text: \"At least 8 characters\" },\n      { regex: /[0-9]/, text: \"At least 1 number\" },\n      { regex: /[a-z]/, text: \"At least 1 lowercase letter\" },\n      { regex: /[A-Z]/, text: \"At least 1 uppercase letter\" },\n      {\n        regex: /[!@#$%^&*(),.?\":{}|<>]/,\n        text: \"At least 1 special character\",\n      },\n    ]\n\n    return requirements.map((req) => ({\n      met: req.regex.test(pass),\n      text: req.text,\n    }))\n  }\n\n  const strength = checkStrength(password)\n\n  const strengthScore = useMemo(() => {\n    return strength.filter((req) => req.met).length\n  }, [strength])\n\n  const getStrengthColor = (score: number) => {\n    if (score === 0) return \"bg-border\"\n    if (score <= 1) return \"bg-red-500\"\n    if (score <= 2) return \"bg-orange-500\"\n    if (score <= 3) return \"bg-amber-500\"\n    if (score <= 4) return \"bg-green-500\"\n    return \"bg-emerald-500\"\n  }\n\n  const getStrengthText = (score: number) => {\n    if (score === 0) return \"Enter a password\"\n    if (score <= 2) return \"Weak security\"\n    if (score <= 4) return \"Medium security\"\n    return \"Strong security\"\n  }\n\n  return (\n    <div className=\"w-full max-w-xs\">\n      <Field>\n        <FieldLabel htmlFor={id}>Secure Password</FieldLabel>\n        <div className=\"relative\">\n          <Input\n            aria-describedby={`${id}-description`}\n            className=\"pe-9\"\n            id={id}\n            onChange={(e) => setPassword(e.target.value)}\n            placeholder=\"Create a strong password\"\n            type={isVisible ? \"text\" : \"password\"}\n            value={password}\n          />\n          <button\n            aria-controls=\"password\"\n            aria-label={isVisible ? \"Hide password\" : \"Show password\"}\n            aria-pressed={isVisible}\n            className=\"text-muted-foreground/80 hover:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 absolute inset-y-0 end-0 flex h-full w-9 items-center justify-center rounded-e-md transition-[color,box-shadow] outline-none focus:z-10 focus-visible:ring-[3px] disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50\"\n            onClick={toggleVisibility}\n            type=\"button\"\n          >\n            {isVisible ? (\n              <IconPlaceholder\n                lucide=\"EyeOffIcon\"\n                tabler=\"IconEyeOff\"\n                hugeicons=\"ViewOffSlashIcon\"\n                phosphor=\"EyeSlashIcon\"\n                remixicon=\"RiEyeOffLine\"\n                className=\"size-3.5\"\n                aria-hidden=\"true\"\n              />\n            ) : (\n              <IconPlaceholder\n                lucide=\"EyeIcon\"\n                tabler=\"IconEye\"\n                hugeicons=\"ViewIcon\"\n                phosphor=\"EyeIcon\"\n                remixicon=\"RiEyeLine\"\n                className=\"size-3.5\"\n                aria-hidden=\"true\"\n              />\n            )}\n          </button>\n        </div>\n      </Field>\n\n      {/* Segmented Progress Bar */}\n      <div\n        aria-label=\"Password strength\"\n        aria-valuemax={5}\n        aria-valuemin={0}\n        aria-valuenow={strengthScore}\n        className=\"mt-3 mb-4 flex gap-1\"\n        role=\"progressbar\"\n      >\n        {[...Array(5)].map((_, i) => (\n          <div\n            key={i}\n            className={`h-1 flex-1 rounded-full transition-colors duration-500 ${\n              i < strengthScore ? getStrengthColor(strengthScore) : \"bg-border\"\n            }`}\n          />\n        ))}\n      </div>\n\n      <div className=\"mb-3 flex items-center justify-between\">\n        <p\n          className=\"text-foreground text-sm font-medium\"\n          id={`${id}-description`}\n        >\n          {getStrengthText(strengthScore)}\n        </p>\n        <span className=\"text-muted-foreground text-xs\">\n          {strengthScore}/5 requirements met\n        </span>\n      </div>\n\n      <ul aria-label=\"Password requirements\" className=\"space-y-1.5\">\n        {strength.map((req) => (\n          <li className=\"flex items-center gap-1\" key={req.text}>\n            {req.met ? (\n              <IconPlaceholder\n                lucide=\"CheckIcon\"\n                tabler=\"IconCheck\"\n                hugeicons=\"Tick02Icon\"\n                phosphor=\"CheckIcon\"\n                remixicon=\"RiCheckLine\"\n                className=\"size-3.5 text-emerald-500\"\n                aria-hidden=\"true\"\n              />\n            ) : (\n              <IconPlaceholder\n                lucide=\"XIcon\"\n                tabler=\"IconX\"\n                hugeicons=\"MultiplicationSignIcon\"\n                phosphor=\"XIcon\"\n                remixicon=\"RiCloseLine\"\n                className=\"text-muted-foreground/60 size-3.5\"\n                aria-hidden=\"true\"\n              />\n            )}\n            <span\n              className={`text-xs transition-colors ${req.met ? \"text-emerald-600\" : \"text-muted-foreground\"}`}\n            >\n              {req.text}\n              <span className=\"sr-only\">\n                {req.met ? \" - Requirement met\" : \" - Requirement not met\"}\n              </span>\n            </span>\n          </li>\n        ))}\n      </ul>\n    </div>\n  )\n}","target":"components/patterns/p-input-23.tsx"}]}