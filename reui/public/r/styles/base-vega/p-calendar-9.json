{"$schema":"https://ui.shadcn.com/schema/registry-item.json","name":"p-calendar-9","type":"registry:block","title":"Year select with navigation","description":"Year select with navigation","dependencies":["react-day-picker"],"registryDependencies":["calendar","card","select"],"files":[{"path":"p-calendar-9.tsx","type":"registry:block","content":"\"use client\"\n\nimport { ChangeEvent, ChangeEventHandler, useState } from \"react\"\nimport type { DropdownNavProps, DropdownProps } from \"react-day-picker\"\n\nimport { Calendar } from \"@/components/ui/calendar\"\nimport { Card, CardContent } from \"@/components/ui/card\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\"\n\nexport function Pattern() {\n  const [date, setDate] = useState<Date | undefined>(new Date())\n\n  const handleCalendarChange = (\n    _value: string | number,\n    _e: ChangeEventHandler<HTMLSelectElement>\n  ) => {\n    const _event = {\n      target: {\n        value: String(_value),\n      },\n    } as ChangeEvent<HTMLSelectElement>\n    _e(_event)\n  }\n\n  return (\n    <Card className=\"p-0\">\n      <CardContent className=\"p-0\">\n        <Calendar\n          captionLayout=\"dropdown-years\"\n          classNames={{\n            nav: \"flex items-center w-full absolute top-0 inset-x-0 justify-between pointer-events-none [&>button]:pointer-events-auto\",\n          }}\n          components={{\n            DropdownNav: (props: DropdownNavProps) => {\n              return (\n                <div className=\"flex w-full items-center justify-center gap-3 [&>span]:text-sm [&>span]:font-medium\">\n                  {props.children}\n                </div>\n              )\n            },\n            YearsDropdown: (props: DropdownProps) => {\n              return (\n                <Select\n                  onValueChange={(value) => {\n                    if (value == null || !props.onChange) {\n                      return\n                    }\n                    handleCalendarChange(value, props.onChange)\n                  }}\n                  value={String(props.value)}\n                >\n                  <SelectTrigger>\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    {props.options?.map((option) => (\n                      <SelectItem\n                        disabled={option.disabled}\n                        key={option.value}\n                        value={String(option.value)}\n                      >\n                        {option.label}\n                      </SelectItem>\n                    ))}\n                  </SelectContent>\n                </Select>\n              )\n            },\n          }}\n          defaultMonth={new Date()}\n          mode=\"single\"\n          onSelect={setDate}\n          selected={date}\n          startMonth={new Date(1980, 6)}\n        />\n      </CardContent>\n    </Card>\n  )\n}","target":"components/patterns/p-calendar-9.tsx"}]}