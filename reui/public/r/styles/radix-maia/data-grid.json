{"$schema":"https://ui.shadcn.com/schema/registry-item.json","name":"data-grid","type":"registry:ui","title":"Data Grid","description":"","dependencies":["@dnd-kit/core","@dnd-kit/modifiers","@dnd-kit/sortable","@dnd-kit/utilities","@tanstack/react-table","class-variance-authority"],"registryDependencies":["https://reui.io/r/styles/radix-maia/badge.json","button","checkbox","dropdown-menu","input","popover","select","separator","skeleton"],"files":[{"path":"data-grid-column-filter.tsx","type":"registry:ui","content":"\"use client\"\n\nimport { useMemo, useState } from \"react\"\nimport { Column } from \"@tanstack/react-table\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Badge } from \"@/components/ui/badge\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\"\nimport { Separator } from \"@/components/ui/separator\"\nimport { IconPlaceholder } from \"@/app/(create)/components/icon-placeholder\"\n\ninterface DataGridColumnFilterProps<TData, TValue> {\n  column?: Column<TData, TValue>\n  title?: string\n  options: {\n    label: string\n    value: string\n    icon?: React.ComponentType<{ className?: string }>\n  }[]\n}\n\nfunction DataGridColumnFilter<TData, TValue>({\n  column,\n  title,\n  options,\n}: DataGridColumnFilterProps<TData, TValue>) {\n  const facets = column?.getFacetedUniqueValues()\n  const selectedValues = new Set(column?.getFilterValue() as string[])\n  const [searchQuery, setSearchQuery] = useState(\"\")\n\n  const filteredOptions = useMemo(() => {\n    if (!searchQuery) return options\n    return options.filter((option) =>\n      option.label.toLowerCase().includes(searchQuery.toLowerCase())\n    )\n  }, [options, searchQuery])\n\n  return (\n    <Popover>\n      <PopoverTrigger asChild>\n        <Button variant=\"outline\" size=\"sm\">\n          <IconPlaceholder\n            lucide=\"CirclePlusIcon\"\n            tabler=\"IconCirclePlus\"\n            hugeicons=\"AddCircleIcon\"\n            phosphor=\"PlusCircleIcon\"\n            remixicon=\"RiAddCircleLine\"\n            className=\"size-4\"\n          />\n          {title}\n          {selectedValues?.size > 0 && (\n            <>\n              <Separator orientation=\"vertical\" className=\"mx-2 h-4\" />\n              <Badge\n                variant=\"secondary\"\n                className=\"rounded-sm px-1 font-normal lg:hidden\"\n              >\n                {selectedValues.size}\n              </Badge>\n              <div className=\"hidden space-x-1 lg:flex\">\n                {selectedValues.size > 2 ? (\n                  <Badge\n                    variant=\"secondary\"\n                    className=\"rounded-sm px-1 font-normal\"\n                  >\n                    {selectedValues.size} selected\n                  </Badge>\n                ) : (\n                  options\n                    .filter((option) => selectedValues.has(option.value))\n                    .map((option) => (\n                      <Badge\n                        variant=\"secondary\"\n                        key={option.value}\n                        className=\"rounded-sm px-1 font-normal\"\n                      >\n                        {option.label}\n                      </Badge>\n                    ))\n                )}\n              </div>\n            </>\n          )}\n        </Button>\n      </PopoverTrigger>\n      <PopoverContent className=\"w-[200px] p-0\" align=\"start\">\n        <div className=\"p-2\">\n          <Input\n            placeholder={title}\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"h-8\"\n          />\n        </div>\n        <div className=\"max-h-[300px] overflow-y-auto\">\n          {filteredOptions.length === 0 ? (\n            <div className=\"text-muted-foreground py-6 text-center text-sm\">\n              No results found.\n            </div>\n          ) : (\n            <div className=\"p-1\">\n              {filteredOptions.map((option) => {\n                const isSelected = selectedValues.has(option.value)\n                return (\n                  <div\n                    key={option.value}\n                    onClick={() => {\n                      if (isSelected) {\n                        selectedValues.delete(option.value)\n                      } else {\n                        selectedValues.add(option.value)\n                      }\n                      const filterValues = Array.from(selectedValues)\n                      column?.setFilterValue(\n                        filterValues.length ? filterValues : undefined\n                      )\n                    }}\n                    className={cn(\n                      \"relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none\",\n                      \"hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground\"\n                    )}\n                  >\n                    <div\n                      className={cn(\n                        \"border-primary me-2 flex h-4 w-4 items-center justify-center rounded-sm border\",\n                        isSelected\n                          ? \"bg-primary text-primary-foreground\"\n                          : \"opacity-50 [&_svg]:invisible\"\n                      )}\n                    >\n                      <IconPlaceholder\n                        lucide=\"CheckIcon\"\n                        tabler=\"IconCheck\"\n                        hugeicons=\"Tick02Icon\"\n                        phosphor=\"CheckIcon\"\n                        remixicon=\"RiCheckLine\"\n                        className=\"size-4\"\n                      />\n                    </div>\n                    {option.icon && (\n                      <option.icon className=\"text-muted-foreground mr-2 h-4 w-4\" />\n                    )}\n                    <span>{option.label}</span>\n                    {facets?.get(option.value) && (\n                      <span className=\"ms-auto flex h-4 w-4 items-center justify-center font-mono text-xs\">\n                        {facets.get(option.value)}\n                      </span>\n                    )}\n                  </div>\n                )\n              })}\n            </div>\n          )}\n          {selectedValues.size > 0 && (\n            <>\n              <div className=\"bg-border -mx-1 my-1 h-px\" />\n              <div className=\"p-1\">\n                <div\n                  onClick={() => column?.setFilterValue(undefined)}\n                  className=\"hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground relative flex cursor-default items-center justify-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none\"\n                >\n                  Clear filters\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </PopoverContent>\n    </Popover>\n  )\n}\n\nexport { DataGridColumnFilter, type DataGridColumnFilterProps }","target":"components/reui/data-grid/data-grid-column-filter.tsx"},{"path":"data-grid-column-header.tsx","type":"registry:ui","content":"\"use client\"\n\nimport { HTMLAttributes, memo, ReactNode, useMemo } from \"react\"\nimport { useDataGrid } from \"@/components/reui/data-grid/data-grid\"\nimport { Column } from \"@tanstack/react-table\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuLabel,\n  DropdownMenuSeparator,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\nimport { IconPlaceholder } from \"@/app/(create)/components/icon-placeholder\"\n\ninterface DataGridColumnHeaderProps<\n  TData,\n  TValue,\n> extends HTMLAttributes<HTMLDivElement> {\n  column: Column<TData, TValue>\n  title?: string\n  icon?: ReactNode\n  pinnable?: boolean\n  filter?: ReactNode\n  visibility?: boolean\n}\n\nfunction DataGridColumnHeaderInner<TData, TValue>({\n  column,\n  title = \"\",\n  icon,\n  className,\n  filter,\n  visibility = false,\n}: DataGridColumnHeaderProps<TData, TValue>) {\n  const { isLoading, table, props, recordCount } = useDataGrid()\n\n  const columnOrder = table.getState().columnOrder\n  const columnVisibilityKey = JSON.stringify(table.getState().columnVisibility)\n  const isSorted = column.getIsSorted()\n  const isPinned = column.getIsPinned()\n  const canSort = column.getCanSort()\n  const canPin = column.getCanPin()\n  const canResize = column.getCanResize()\n\n  const columnIndex = columnOrder.indexOf(column.id)\n  const canMoveLeft = columnIndex > 0\n  const canMoveRight = columnIndex < columnOrder.length - 1\n\n  const handleSort = () => {\n    if (isSorted === \"asc\") {\n      column.toggleSorting(true)\n    } else if (isSorted === \"desc\") {\n      column.clearSorting()\n    } else {\n      column.toggleSorting(false)\n    }\n  }\n\n  const headerLabelClassName = cn(\n    \"text-secondary-foreground/80 inline-flex h-full items-center gap-1.5 font-normal [&_svg]:opacity-60 text-[0.8125rem] leading-[calc(1.125/0.8125)] [&_svg]:size-3.5\",\n    className\n  )\n\n  const headerButtonClassName = cn(\n    \"text-secondary-foreground/80 hover:bg-secondary data-[state=open]:bg-secondary hover:text-foreground data-[state=open]:text-foreground -ms-2 px-2 font-normal h-7 rounded-4xl\",\n    className\n  )\n\n  const sortIcon =\n    canSort &&\n    (isSorted === \"desc\" ? (\n      <IconPlaceholder\n        lucide=\"ArrowDownIcon\"\n        tabler=\"IconArrowDown\"\n        hugeicons=\"ArrowDown02Icon\"\n        phosphor=\"ArrowDownIcon\"\n        remixicon=\"RiArrowDownLine\"\n        className=\"size-3.25\"\n      />\n    ) : isSorted === \"asc\" ? (\n      <IconPlaceholder\n        lucide=\"ArrowUpIcon\"\n        tabler=\"IconArrowUp\"\n        hugeicons=\"ArrowUp02Icon\"\n        phosphor=\"ArrowUpIcon\"\n        remixicon=\"RiArrowUpLine\"\n        className=\"size-3.25\"\n      />\n    ) : (\n      <IconPlaceholder\n        lucide=\"ChevronsUpDownIcon\"\n        tabler=\"IconSelector\"\n        hugeicons=\"UnfoldMoreIcon\"\n        phosphor=\"CaretUpDownIcon\"\n        remixicon=\"RiExpandUpDownLine\"\n        className=\"mt-px size-3.25\"\n      />\n    ))\n\n  const hasControls =\n    props.tableLayout?.columnsMovable ||\n    (props.tableLayout?.columnsVisibility && visibility) ||\n    (props.tableLayout?.columnsPinnable && canPin) ||\n    filter\n\n  const menuItems = useMemo(() => {\n    const items: ReactNode[] = []\n    let hasPreviousSection = false\n\n    // Filter section\n    if (filter) {\n      items.push(\n        <DropdownMenuGroup key=\"group-filter\">\n          <DropdownMenuLabel key=\"filter\">{filter}</DropdownMenuLabel>\n        </DropdownMenuGroup>\n      )\n      hasPreviousSection = true\n    }\n\n    // Sort section\n    if (canSort) {\n      if (hasPreviousSection) {\n        items.push(<DropdownMenuSeparator key=\"sep-sort\" />)\n      }\n      items.push(\n        <DropdownMenuItem\n          key=\"sort-asc\"\n          onClick={() => {\n            if (isSorted === \"asc\") {\n              column.clearSorting()\n            } else {\n              column.toggleSorting(false)\n            }\n          }}\n          disabled={!canSort}\n        >\n          <IconPlaceholder\n            lucide=\"ArrowUpIcon\"\n            tabler=\"IconArrowUp\"\n            hugeicons=\"ArrowUp02Icon\"\n            phosphor=\"ArrowUpIcon\"\n            remixicon=\"RiArrowUpLine\"\n            className=\"size-3.5!\"\n          />\n          <span className=\"grow\">Asc</span>\n          {isSorted === \"asc\" && (\n            <IconPlaceholder\n              lucide=\"CheckIcon\"\n              tabler=\"IconCheck\"\n              hugeicons=\"Tick02Icon\"\n              phosphor=\"CheckIcon\"\n              remixicon=\"RiCheckLine\"\n              className=\"text-primary size-4 opacity-100!\"\n            />\n          )}\n        </DropdownMenuItem>,\n        <DropdownMenuItem\n          key=\"sort-desc\"\n          onClick={() => {\n            if (isSorted === \"desc\") {\n              column.clearSorting()\n            } else {\n              column.toggleSorting(true)\n            }\n          }}\n          disabled={!canSort}\n        >\n          <IconPlaceholder\n            lucide=\"ArrowDownIcon\"\n            tabler=\"IconArrowDown\"\n            hugeicons=\"ArrowDown02Icon\"\n            phosphor=\"ArrowDownIcon\"\n            remixicon=\"RiArrowDownLine\"\n            className=\"size-3.5!\"\n          />\n          <span className=\"grow\">Desc</span>\n          {isSorted === \"desc\" && (\n            <IconPlaceholder\n              lucide=\"CheckIcon\"\n              tabler=\"IconCheck\"\n              hugeicons=\"Tick02Icon\"\n              phosphor=\"CheckIcon\"\n              remixicon=\"RiCheckLine\"\n              className=\"text-primary size-4 opacity-100!\"\n            />\n          )}\n        </DropdownMenuItem>\n      )\n      hasPreviousSection = true\n    }\n\n    // Pin section\n    if (props.tableLayout?.columnsPinnable && canPin) {\n      if (hasPreviousSection) {\n        items.push(<DropdownMenuSeparator key=\"sep-pin\" />)\n      }\n      items.push(\n        <DropdownMenuItem\n          key=\"pin-left\"\n          onClick={() => column.pin(isPinned === \"left\" ? false : \"left\")}\n        >\n          <IconPlaceholder\n            lucide=\"ArrowLeftToLineIcon\"\n            tabler=\"IconArrowBarToLeft\"\n            hugeicons=\"ArrowLeft03Icon\"\n            phosphor=\"ArrowLineLeftIcon\"\n            remixicon=\"RiContractLeftLine\"\n            className=\"size-3.5!\"\n            aria-hidden=\"true\"\n          />\n          <span className=\"grow\">Pin to left</span>\n          {isPinned === \"left\" && (\n            <IconPlaceholder\n              lucide=\"CheckIcon\"\n              tabler=\"IconCheck\"\n              hugeicons=\"Tick02Icon\"\n              phosphor=\"CheckIcon\"\n              remixicon=\"RiCheckLine\"\n              className=\"text-primary size-4 opacity-100!\"\n            />\n          )}\n        </DropdownMenuItem>,\n        <DropdownMenuItem\n          key=\"pin-right\"\n          onClick={() => column.pin(isPinned === \"right\" ? false : \"right\")}\n        >\n          <IconPlaceholder\n            lucide=\"ArrowRightToLineIcon\"\n            tabler=\"IconArrowBarToRight\"\n            hugeicons=\"ArrowRight03Icon\"\n            phosphor=\"ArrowLineRightIcon\"\n            remixicon=\"RiContractRightLine\"\n            className=\"size-3.5!\"\n            aria-hidden=\"true\"\n          />\n          <span className=\"grow\">Pin to right</span>\n          {isPinned === \"right\" && (\n            <IconPlaceholder\n              lucide=\"CheckIcon\"\n              tabler=\"IconCheck\"\n              hugeicons=\"Tick02Icon\"\n              phosphor=\"CheckIcon\"\n              remixicon=\"RiCheckLine\"\n              className=\"text-primary size-4 opacity-100!\"\n            />\n          )}\n        </DropdownMenuItem>\n      )\n      hasPreviousSection = true\n    }\n\n    // Move section\n    if (props.tableLayout?.columnsMovable) {\n      if (hasPreviousSection) {\n        items.push(<DropdownMenuSeparator key=\"sep-move\" />)\n      }\n      items.push(\n        <DropdownMenuItem\n          key=\"move-left\"\n          onClick={() => {\n            if (columnIndex > 0) {\n              const newOrder = [...columnOrder]\n              const [movedColumn] = newOrder.splice(columnIndex, 1)\n              newOrder.splice(columnIndex - 1, 0, movedColumn)\n              table.setColumnOrder(newOrder)\n            }\n          }}\n          disabled={!canMoveLeft || isPinned !== false}\n        >\n          <IconPlaceholder\n            lucide=\"ArrowLeftIcon\"\n            tabler=\"IconArrowLeft\"\n            hugeicons=\"ArrowLeft02Icon\"\n            phosphor=\"ArrowLeftIcon\"\n            remixicon=\"RiArrowLeftLine\"\n            className=\"size-3.5!\"\n            aria-hidden=\"true\"\n          />\n          <span>Move to Left</span>\n        </DropdownMenuItem>,\n        <DropdownMenuItem\n          key=\"move-right\"\n          onClick={() => {\n            if (columnIndex < columnOrder.length - 1) {\n              const newOrder = [...columnOrder]\n              const [movedColumn] = newOrder.splice(columnIndex, 1)\n              newOrder.splice(columnIndex + 1, 0, movedColumn)\n              table.setColumnOrder(newOrder)\n            }\n          }}\n          disabled={!canMoveRight || isPinned !== false}\n        >\n          <IconPlaceholder\n            lucide=\"ArrowRightIcon\"\n            tabler=\"IconArrowRight\"\n            hugeicons=\"ArrowRight02Icon\"\n            phosphor=\"ArrowRightIcon\"\n            remixicon=\"RiArrowRightLine\"\n            className=\"size-3.5!\"\n            aria-hidden=\"true\"\n          />\n          <span>Move to Right</span>\n        </DropdownMenuItem>\n      )\n      hasPreviousSection = true\n    }\n\n    // Visibility section\n    if (props.tableLayout?.columnsVisibility && visibility) {\n      if (hasPreviousSection) {\n        items.push(<DropdownMenuSeparator key=\"sep-visibility\" />)\n      }\n      items.push(\n        <DropdownMenuSub key=\"visibility\">\n          <DropdownMenuSubTrigger>\n            <IconPlaceholder\n              lucide=\"Settings2Icon\"\n              tabler=\"IconAdjustmentsHorizontal\"\n              hugeicons=\"SlidersHorizontalIcon\"\n              phosphor=\"SlidersHorizontalIcon\"\n              remixicon=\"RiEqualizer2Line\"\n              className=\"size-3.5!\"\n            />\n            <span>Columns</span>\n          </DropdownMenuSubTrigger>\n          <DropdownMenuSubContent side=\"right\">\n            {table\n              .getAllColumns()\n              .filter(\n                (col) =>\n                  typeof col.accessorFn !== \"undefined\" && col.getCanHide()\n              )\n              .map((col) => (\n                <DropdownMenuCheckboxItem\n                  key={col.id}\n                  checked={col.getIsVisible()}\n                  onSelect={(event) => event.preventDefault()}\n                  onCheckedChange={(value) => col.toggleVisibility(!!value)}\n                  className=\"capitalize\"\n                >\n                  {col.columnDef.meta?.headerTitle || col.id}\n                </DropdownMenuCheckboxItem>\n              ))}\n          </DropdownMenuSubContent>\n        </DropdownMenuSub>\n      )\n    }\n\n    return items\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [\n    filter,\n    canSort,\n    isSorted,\n    column,\n    props.tableLayout?.columnsPinnable,\n    props.tableLayout?.columnsMovable,\n    props.tableLayout?.columnsVisibility,\n    canPin,\n    isPinned,\n    canMoveLeft,\n    canMoveRight,\n    visibility,\n    table,\n    columnIndex,\n    columnOrder,\n    columnVisibilityKey, // Needed to update checkbox states when visibility changes\n  ])\n\n  if (hasControls) {\n    return (\n      <div className=\"flex h-full items-center justify-between gap-1.5\">\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button\n              variant=\"ghost\"\n              className={headerButtonClassName}\n              disabled={isLoading || recordCount === 0}\n            >\n              {icon && icon}\n              {title}\n              {sortIcon}\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent className=\"w-40\" align=\"start\">\n            {menuItems}\n          </DropdownMenuContent>\n        </DropdownMenu>\n        {props.tableLayout?.columnsPinnable && canPin && isPinned && (\n          <Button\n            size=\"icon-sm\"\n            variant=\"ghost\"\n            className=\"-me-1 size-7 rounded-md\"\n            onClick={() => column.pin(false)}\n            aria-label={`Unpin ${title} column`}\n            title={`Unpin ${title} column`}\n          >\n            <IconPlaceholder\n              lucide=\"PinOffIcon\"\n              tabler=\"IconPinnedOff\"\n              hugeicons=\"PinOffIcon\"\n              phosphor=\"PushPinSlashIcon\"\n              remixicon=\"RiUnpinLine\"\n              className=\"size-3.5! opacity-50!\"\n              aria-hidden=\"true\"\n            />\n          </Button>\n        )}\n      </div>\n    )\n  }\n\n  if (canSort || (props.tableLayout?.columnsResizable && canResize)) {\n    return (\n      <div className=\"flex h-full items-center\">\n        <Button\n          variant=\"ghost\"\n          className={headerButtonClassName}\n          disabled={isLoading || recordCount === 0}\n          onClick={handleSort}\n        >\n          {icon && icon}\n          {title}\n          {sortIcon}\n        </Button>\n      </div>\n    )\n  }\n\n  return (\n    <div className={headerLabelClassName}>\n      {icon && icon}\n      {title}\n    </div>\n  )\n}\n\nconst DataGridColumnHeader = memo(\n  DataGridColumnHeaderInner\n) as typeof DataGridColumnHeaderInner\n\nexport { DataGridColumnHeader, type DataGridColumnHeaderProps }","target":"components/reui/data-grid/data-grid-column-header.tsx"},{"path":"data-grid-column-visibility.tsx","type":"registry:ui","content":"\"use client\"\n\nimport { ReactElement } from \"react\"\nimport { Table } from \"@tanstack/react-table\"\n\nimport {\n  DropdownMenu,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuLabel,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\n\nfunction DataGridColumnVisibility<TData>({\n  table,\n  trigger,\n}: {\n  table: Table<TData>\n  trigger: ReactElement<Record<string, unknown>>\n}) {\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>{trigger}</DropdownMenuTrigger>\n      <DropdownMenuContent align=\"end\" className=\"min-w-[150px]\">\n        <DropdownMenuGroup>\n          <DropdownMenuLabel className=\"font-medium\">\n            Toggle Columns\n          </DropdownMenuLabel>\n          {table\n            .getAllColumns()\n            .filter(\n              (column) =>\n                typeof column.accessorFn !== \"undefined\" && column.getCanHide()\n            )\n            .map((column) => {\n              return (\n                <DropdownMenuCheckboxItem\n                  key={column.id}\n                  className=\"capitalize\"\n                  checked={column.getIsVisible()}\n                  onSelect={(event) => event.preventDefault()}\n                  onCheckedChange={(value) => column.toggleVisibility(!!value)}\n                >\n                  {column.columnDef.meta?.headerTitle || column.id}\n                </DropdownMenuCheckboxItem>\n              )\n            })}\n        </DropdownMenuGroup>\n      </DropdownMenuContent>\n    </DropdownMenu>\n  )\n}\n\nexport { DataGridColumnVisibility }","target":"components/reui/data-grid/data-grid-column-visibility.tsx"},{"path":"data-grid-pagination.tsx","type":"registry:ui","content":"\"use client\"\n\nimport React, { ReactNode } from \"react\"\nimport { useDataGrid } from \"@/components/reui/data-grid/data-grid\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\"\nimport { Skeleton } from \"@/components/ui/skeleton\"\nimport { IconPlaceholder } from \"@/app/(create)/components/icon-placeholder\"\n\ninterface DataGridPaginationProps {\n  sizes?: number[]\n  sizesInfo?: string\n  sizesLabel?: string\n  sizesDescription?: string\n  sizesSkeleton?: ReactNode\n  more?: boolean\n  moreLimit?: number\n  info?: string\n  infoSkeleton?: ReactNode\n  className?: string\n  rowsPerPageLabel?: string\n  previousPageLabel?: string\n  nextPageLabel?: string\n  ellipsisText?: string\n}\n\nfunction DataGridPagination(props: DataGridPaginationProps): React.JSX.Element {\n  const { table, recordCount, isLoading } = useDataGrid()\n\n  const defaultProps: Partial<DataGridPaginationProps> = {\n    sizes: [5, 10, 25, 50, 100],\n    sizesLabel: \"Show\",\n    sizesDescription: \"per page\",\n    sizesSkeleton: <Skeleton className=\"h-8 w-44\" />,\n    moreLimit: 5,\n    more: false,\n    info: \"{from} - {to} of {count}\",\n    infoSkeleton: <Skeleton className=\"h-8 w-60\" />,\n    rowsPerPageLabel: \"Rows per page\",\n    previousPageLabel: \"Go to previous page\",\n    nextPageLabel: \"Go to next page\",\n    ellipsisText: \"...\",\n  }\n\n  const mergedProps: DataGridPaginationProps = { ...defaultProps, ...props }\n\n  const btnBaseClasses = \"size-7 p-0 text-sm\"\n  const btnArrowClasses = btnBaseClasses + \" rtl:transform rtl:rotate-180\"\n  const pageIndex = table.getState().pagination.pageIndex\n  const pageSize = table.getState().pagination.pageSize\n  const from = pageIndex * pageSize + 1\n  const to = Math.min((pageIndex + 1) * pageSize, recordCount)\n  const pageCount = table.getPageCount()\n\n  // Replace placeholders in paginationInfo\n  const paginationInfo = mergedProps?.info\n    ? mergedProps.info\n        .replace(\"{from}\", from.toString())\n        .replace(\"{to}\", to.toString())\n        .replace(\"{count}\", recordCount.toString())\n    : `${from} - ${to} of ${recordCount}`\n\n  // Pagination limit logic\n  const paginationMoreLimit = mergedProps?.moreLimit || 5\n\n  // Determine the start and end of the pagination group\n  const currentGroupStart =\n    Math.floor(pageIndex / paginationMoreLimit) * paginationMoreLimit\n  const currentGroupEnd = Math.min(\n    currentGroupStart + paginationMoreLimit,\n    pageCount\n  )\n\n  // Render page buttons based on the current group\n  const renderPageButtons = () => {\n    const buttons = []\n    for (let i = currentGroupStart; i < currentGroupEnd; i++) {\n      buttons.push(\n        <Button\n          key={i}\n          size=\"icon-sm\"\n          variant=\"ghost\"\n          className={cn(btnBaseClasses, \"text-muted-foreground\", {\n            \"bg-accent text-accent-foreground\": pageIndex === i,\n          })}\n          onClick={() => {\n            if (pageIndex !== i) {\n              table.setPageIndex(i)\n            }\n          }}\n        >\n          {i + 1}\n        </Button>\n      )\n    }\n    return buttons\n  }\n\n  // Render a \"previous\" ellipsis button if there are previous pages to show\n  const renderEllipsisPrevButton = () => {\n    if (currentGroupStart > 0) {\n      return (\n        <Button\n          size=\"icon-sm\"\n          className={btnBaseClasses}\n          variant=\"ghost\"\n          onClick={() => table.setPageIndex(currentGroupStart - 1)}\n        >\n          {mergedProps.ellipsisText}\n        </Button>\n      )\n    }\n    return null\n  }\n\n  // Render a \"next\" ellipsis button if there are more pages to show after the current group\n  const renderEllipsisNextButton = () => {\n    if (currentGroupEnd < pageCount) {\n      return (\n        <Button\n          className={btnBaseClasses}\n          variant=\"ghost\"\n          size=\"icon-sm\"\n          onClick={() => table.setPageIndex(currentGroupEnd)}\n        >\n          {mergedProps.ellipsisText}\n        </Button>\n      )\n    }\n    return null\n  }\n\n  return (\n    <div\n      data-slot=\"data-grid-pagination\"\n      className={cn(\n        \"flex grow flex-col flex-wrap items-center justify-between gap-2.5 py-2.5 sm:flex-row sm:py-0\",\n        mergedProps?.className\n      )}\n    >\n      <div className=\"order-2 flex flex-wrap items-center space-x-2.5 pb-2.5 sm:order-1 sm:pb-0\">\n        {isLoading ? (\n          mergedProps?.sizesSkeleton\n        ) : (\n          <>\n            <div className=\"text-muted-foreground text-sm\">\n              {mergedProps.rowsPerPageLabel}\n            </div>\n            <Select\n              value={`${pageSize}`}\n              onValueChange={(value) => {\n                const newPageSize = Number(value)\n                table.setPageSize(newPageSize)\n              }}\n            >\n              <SelectTrigger className=\"w-14\" size=\"sm\">\n                <SelectValue />\n              </SelectTrigger>\n              <SelectContent side=\"top\" className=\"min-w-18\">\n                {mergedProps?.sizes?.map((size: number) => (\n                  <SelectItem key={size} value={`${size}`}>\n                    {size}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </>\n        )}\n      </div>\n      <div className=\"order-1 flex flex-col items-center justify-center gap-2.5 pt-2.5 sm:order-2 sm:flex-row sm:justify-end sm:pt-0\">\n        {isLoading ? (\n          mergedProps?.infoSkeleton\n        ) : (\n          <>\n            <div className=\"text-muted-foreground text-sm order-2 text-nowrap sm:order-1\">\n              {paginationInfo}\n            </div>\n            {pageCount > 1 && (\n              <div className=\"order-1 flex items-center space-x-1 sm:order-2\">\n                <Button\n                  size=\"icon-sm\"\n                  variant=\"ghost\"\n                  className={btnArrowClasses}\n                  onClick={() => table.previousPage()}\n                  disabled={!table.getCanPreviousPage()}\n                >\n                  <span className=\"sr-only\">\n                    {mergedProps.previousPageLabel}\n                  </span>\n                  <IconPlaceholder\n                    lucide=\"ChevronLeftIcon\"\n                    tabler=\"IconChevronLeft\"\n                    hugeicons=\"ArrowLeft01Icon\"\n                    phosphor=\"CaretLeftIcon\"\n                    remixicon=\"RiArrowLeftSLine\"\n                    className=\"size-4\"\n                  />\n                </Button>\n\n                {renderEllipsisPrevButton()}\n\n                {renderPageButtons()}\n\n                {renderEllipsisNextButton()}\n\n                <Button\n                  size=\"icon-sm\"\n                  variant=\"ghost\"\n                  className={btnArrowClasses}\n                  onClick={() => table.nextPage()}\n                  disabled={!table.getCanNextPage()}\n                >\n                  <span className=\"sr-only\">{mergedProps.nextPageLabel}</span>\n                  <IconPlaceholder\n                    lucide=\"ChevronRightIcon\"\n                    tabler=\"IconChevronRight\"\n                    hugeicons=\"ArrowRight01Icon\"\n                    phosphor=\"CaretRightIcon\"\n                    remixicon=\"RiArrowRightSLine\"\n                    className=\"size-4\"\n                  />\n                </Button>\n              </div>\n            )}\n          </>\n        )}\n      </div>\n    </div>\n  )\n}\n\nexport { DataGridPagination, type DataGridPaginationProps }","target":"components/reui/data-grid/data-grid-pagination.tsx"},{"path":"data-grid-table-dnd-rows.tsx","type":"registry:ui","content":"\"use client\"\n\nimport {\n  createContext,\n  CSSProperties,\n  useContext,\n  useId,\n  useMemo,\n  useRef,\n} from \"react\"\nimport { useDataGrid } from \"@/components/reui/data-grid/data-grid\"\nimport {\n  DataGridTableBase,\n  DataGridTableBody,\n  DataGridTableBodyRow,\n  DataGridTableBodyRowCell,\n  DataGridTableBodyRowSkeleton,\n  DataGridTableBodyRowSkeletonCell,\n  DataGridTableEmpty,\n  DataGridTableHead,\n  DataGridTableHeadRow,\n  DataGridTableHeadRowCell,\n  DataGridTableHeadRowCellResize,\n  DataGridTableRowSpacer,\n} from \"@/components/reui/data-grid/data-grid-table\"\nimport {\n  closestCenter,\n  DndContext,\n  KeyboardSensor,\n  MouseSensor,\n  TouchSensor,\n  UniqueIdentifier,\n  useSensor,\n  useSensors,\n  type DragEndEvent,\n  type Modifier,\n} from \"@dnd-kit/core\"\nimport { restrictToVerticalAxis } from \"@dnd-kit/modifiers\"\nimport {\n  SortableContext,\n  useSortable,\n  verticalListSortingStrategy,\n} from \"@dnd-kit/sortable\"\nimport { CSS } from \"@dnd-kit/utilities\"\nimport { Cell, flexRender, HeaderGroup, Row } from \"@tanstack/react-table\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Button } from \"@/components/ui/button\"\nimport { IconPlaceholder } from \"@/app/(create)/components/icon-placeholder\"\n\n// Context to share sortable listeners from row to handle\ntype SortableContextValue = ReturnType<typeof useSortable>\nconst SortableRowContext = createContext<Pick<\n  SortableContextValue,\n  \"attributes\" | \"listeners\"\n> | null>(null)\n\nfunction DataGridTableDndRowHandle({ className }: { className?: string }) {\n  const context = useContext(SortableRowContext)\n\n  if (!context) {\n    // Fallback if context is not available (shouldn't happen in normal usage)\n    return (\n      <Button\n        variant=\"ghost\"\n        size=\"icon-sm\"\n        className={cn(\n          \"size-7 cursor-move opacity-70 hover:bg-transparent hover:opacity-100\",\n          className\n        )}\n        disabled\n      >\n        <IconPlaceholder\n          lucide=\"GripHorizontalIcon\"\n          tabler=\"IconGripHorizontal\"\n          hugeicons=\"DragDropHorizontalIcon\"\n          phosphor=\"DotsSixIcon\"\n          remixicon=\"RiDraggable\"\n        />\n      </Button>\n    )\n  }\n\n  return (\n    <Button\n      variant=\"ghost\"\n      size=\"icon-sm\"\n      className={cn(\n        \"size-7 cursor-move opacity-70 hover:bg-transparent hover:opacity-100\",\n        className\n      )}\n      {...context.attributes}\n      {...context.listeners}\n    >\n      <IconPlaceholder\n        lucide=\"GripHorizontalIcon\"\n        tabler=\"IconGripHorizontal\"\n        hugeicons=\"DragDropHorizontalIcon\"\n        phosphor=\"DotsSixIcon\"\n        remixicon=\"RiDraggable\"\n      />\n    </Button>\n  )\n}\n\nfunction DataGridTableDndRow<TData>({ row }: { row: Row<TData> }) {\n  const {\n    transform,\n    transition,\n    setNodeRef,\n    isDragging,\n    attributes,\n    listeners,\n  } = useSortable({\n    id: row.id,\n  })\n\n  const style: CSSProperties = {\n    transform: CSS.Transform.toString(transform),\n    transition: transition,\n    opacity: isDragging ? 0.8 : 1,\n    zIndex: isDragging ? 1 : 0,\n    position: \"relative\",\n  }\n\n  return (\n    <SortableRowContext.Provider value={{ attributes, listeners }}>\n      <DataGridTableBodyRow\n        row={row}\n        dndRef={setNodeRef}\n        dndStyle={style}\n        key={row.id}\n      >\n        {row.getVisibleCells().map((cell: Cell<TData, unknown>, colIndex) => {\n          return (\n            <DataGridTableBodyRowCell cell={cell} key={colIndex}>\n              {flexRender(cell.column.columnDef.cell, cell.getContext())}\n            </DataGridTableBodyRowCell>\n          )\n        })}\n      </DataGridTableBodyRow>\n    </SortableRowContext.Provider>\n  )\n}\n\nfunction DataGridTableDndRows<TData>({\n  handleDragEnd,\n  dataIds,\n}: {\n  handleDragEnd: (event: DragEndEvent) => void\n  dataIds: UniqueIdentifier[]\n}) {\n  const { table, isLoading, props } = useDataGrid()\n  const pagination = table.getState().pagination\n  const tableContainerRef = useRef<HTMLDivElement>(null)\n\n  const sensors = useSensors(\n    useSensor(MouseSensor, {}),\n    useSensor(TouchSensor, {}),\n    useSensor(KeyboardSensor, {})\n  )\n\n  const modifiers = useMemo(() => {\n    const restrictToTableContainer: Modifier = ({\n      transform,\n      draggingNodeRect,\n    }) => {\n      if (!tableContainerRef.current || !draggingNodeRect) {\n        return transform\n      }\n\n      const containerRect = tableContainerRef.current.getBoundingClientRect()\n      const { x, y } = transform\n\n      const minX = containerRect.left - draggingNodeRect.left\n      const maxX = containerRect.right - draggingNodeRect.right\n      const minY = containerRect.top - draggingNodeRect.top\n      const maxY = containerRect.bottom - draggingNodeRect.bottom\n\n      return {\n        ...transform,\n        x: Math.max(minX, Math.min(maxX, x)),\n        y: Math.max(minY, Math.min(maxY, y)),\n      }\n    }\n\n    return [restrictToVerticalAxis, restrictToTableContainer]\n  }, [])\n\n  return (\n    <DndContext\n      id={useId()}\n      collisionDetection={closestCenter}\n      modifiers={modifiers}\n      onDragEnd={handleDragEnd}\n      sensors={sensors}\n    >\n      <div ref={tableContainerRef} className=\"relative\">\n        <DataGridTableBase>\n          <DataGridTableHead>\n            {table\n              .getHeaderGroups()\n              .map((headerGroup: HeaderGroup<TData>, index) => {\n                return (\n                  <DataGridTableHeadRow headerGroup={headerGroup} key={index}>\n                    {headerGroup.headers.map((header, index) => {\n                      const { column } = header\n\n                      return (\n                        <DataGridTableHeadRowCell header={header} key={index}>\n                          {header.isPlaceholder\n                            ? null\n                            : flexRender(\n                                header.column.columnDef.header,\n                                header.getContext()\n                              )}\n                          {props.tableLayout?.columnsResizable &&\n                            column.getCanResize() && (\n                              <DataGridTableHeadRowCellResize header={header} />\n                            )}\n                        </DataGridTableHeadRowCell>\n                      )\n                    })}\n                  </DataGridTableHeadRow>\n                )\n              })}\n          </DataGridTableHead>\n\n          {(props.tableLayout?.stripped || !props.tableLayout?.rowBorder) && (\n            <DataGridTableRowSpacer />\n          )}\n\n          <DataGridTableBody>\n            {props.loadingMode === \"skeleton\" &&\n            isLoading &&\n            pagination?.pageSize ? (\n              Array.from({ length: pagination.pageSize }).map((_, rowIndex) => (\n                <DataGridTableBodyRowSkeleton key={rowIndex}>\n                  {table.getVisibleFlatColumns().map((column, colIndex) => {\n                    return (\n                      <DataGridTableBodyRowSkeletonCell\n                        column={column}\n                        key={colIndex}\n                      >\n                        {column.columnDef.meta?.skeleton}\n                      </DataGridTableBodyRowSkeletonCell>\n                    )\n                  })}\n                </DataGridTableBodyRowSkeleton>\n              ))\n            ) : table.getRowModel().rows.length ? (\n              <SortableContext\n                items={dataIds}\n                strategy={verticalListSortingStrategy}\n              >\n                {table.getRowModel().rows.map((row: Row<TData>) => {\n                  return <DataGridTableDndRow row={row} key={row.id} />\n                })}\n              </SortableContext>\n            ) : (\n              <DataGridTableEmpty />\n            )}\n          </DataGridTableBody>\n        </DataGridTableBase>\n      </div>\n    </DndContext>\n  )\n}\n\nexport { DataGridTableDndRowHandle, DataGridTableDndRows }","target":"components/reui/data-grid/data-grid-table-dnd-rows.tsx"},{"path":"data-grid-table-dnd.tsx","type":"registry:ui","content":"\"use client\"\n\nimport { CSSProperties, Fragment, useId, useRef } from \"react\"\nimport { useDataGrid } from \"@/components/reui/data-grid/data-grid\"\nimport {\n  DataGridTableBase,\n  DataGridTableBody,\n  DataGridTableBodyRow,\n  DataGridTableBodyRowCell,\n  DataGridTableBodyRowExpandded,\n  DataGridTableBodyRowSkeleton,\n  DataGridTableBodyRowSkeletonCell,\n  DataGridTableEmpty,\n  DataGridTableHead,\n  DataGridTableHeadRow,\n  DataGridTableHeadRowCell,\n  DataGridTableHeadRowCellResize,\n  DataGridTableRowSpacer,\n} from \"@/components/reui/data-grid/data-grid-table\"\nimport {\n  closestCenter,\n  DndContext,\n  KeyboardSensor,\n  Modifier,\n  MouseSensor,\n  TouchSensor,\n  useSensor,\n  useSensors,\n  type DragEndEvent,\n} from \"@dnd-kit/core\"\nimport {\n  horizontalListSortingStrategy,\n  SortableContext,\n  useSortable,\n} from \"@dnd-kit/sortable\"\nimport { CSS } from \"@dnd-kit/utilities\"\nimport {\n  Cell,\n  flexRender,\n  Header,\n  HeaderGroup,\n  Row,\n} from \"@tanstack/react-table\"\n\nimport { Button } from \"@/components/ui/button\"\nimport { IconPlaceholder } from \"@/app/(create)/components/icon-placeholder\"\n\nfunction DataGridTableDndHeader<TData>({\n  header,\n}: {\n  header: Header<TData, unknown>\n}) {\n  const { props } = useDataGrid()\n  const { column } = header\n\n  // Check if column ordering is enabled for this column\n  const canOrder =\n    (column.columnDef as { enableColumnOrdering?: boolean })\n      .enableColumnOrdering !== false\n\n  const {\n    attributes,\n    isDragging,\n    listeners,\n    setNodeRef,\n    transform,\n    transition,\n  } = useSortable({\n    id: header.column.id,\n  })\n\n  const style: CSSProperties = {\n    opacity: isDragging ? 0.8 : 1,\n    position: \"relative\",\n    transform: CSS.Translate.toString(transform),\n    transition,\n    whiteSpace: \"nowrap\",\n    width: header.column.getSize(),\n    zIndex: isDragging ? 1 : 0,\n  }\n\n  return (\n    <DataGridTableHeadRowCell\n      header={header}\n      dndStyle={style}\n      dndRef={setNodeRef}\n    >\n      <div className=\"flex items-center justify-start gap-0.5\">\n        {canOrder && (\n          <Button\n            size=\"icon-sm\"\n            variant=\"ghost\"\n            className=\"-ms-2 size-6 cursor-move\"\n            {...attributes}\n            {...listeners}\n            aria-label=\"Drag to reorder\"\n          >\n            <IconPlaceholder\n              lucide=\"GripVerticalIcon\"\n              tabler=\"IconGripVertical\"\n              hugeicons=\"DragDropVerticalIcon\"\n              phosphor=\"DotsSixVerticalIcon\"\n              remixicon=\"RiDraggable\"\n              className=\"opacity-60 hover:opacity-100\"\n              aria-hidden=\"true\"\n            />\n          </Button>\n        )}\n        <span className=\"grow truncate\">\n          {header.isPlaceholder\n            ? null\n            : flexRender(header.column.columnDef.header, header.getContext())}\n        </span>\n        {props.tableLayout?.columnsResizable && column.getCanResize() && (\n          <DataGridTableHeadRowCellResize header={header} />\n        )}\n      </div>\n    </DataGridTableHeadRowCell>\n  )\n}\n\nfunction DataGridTableDndCell<TData>({ cell }: { cell: Cell<TData, unknown> }) {\n  const { isDragging, setNodeRef, transform, transition } = useSortable({\n    id: cell.column.id,\n  })\n\n  const style: CSSProperties = {\n    opacity: isDragging ? 0.8 : 1,\n    position: \"relative\",\n    transform: CSS.Translate.toString(transform),\n    transition,\n    width: cell.column.getSize(),\n    zIndex: isDragging ? 1 : 0,\n  }\n\n  return (\n    <DataGridTableBodyRowCell cell={cell} dndStyle={style} dndRef={setNodeRef}>\n      {flexRender(cell.column.columnDef.cell, cell.getContext())}\n    </DataGridTableBodyRowCell>\n  )\n}\n\nfunction DataGridTableDnd<TData>({\n  handleDragEnd,\n}: {\n  handleDragEnd: (event: DragEndEvent) => void\n}) {\n  const { table, isLoading, props } = useDataGrid()\n  const pagination = table.getState().pagination\n  const containerRef = useRef<HTMLDivElement>(null)\n\n  const sensors = useSensors(\n    useSensor(MouseSensor, {}),\n    useSensor(TouchSensor, {}),\n    useSensor(KeyboardSensor, {})\n  )\n\n  // Custom modifier to restrict dragging within table bounds with edge offset\n  const restrictToTableBounds: Modifier = ({ draggingNodeRect, transform }) => {\n    if (!draggingNodeRect || !containerRef.current) {\n      return { ...transform, y: 0 }\n    }\n\n    const containerRect = containerRef.current.getBoundingClientRect()\n    const edgeOffset = 0\n\n    const minX = containerRect.left - draggingNodeRect.left - edgeOffset\n    const maxX =\n      containerRect.right -\n      draggingNodeRect.left -\n      draggingNodeRect.width +\n      edgeOffset\n\n    return {\n      ...transform,\n      x: Math.min(Math.max(transform.x, minX), maxX),\n      y: 0, // Lock vertical movement\n    }\n  }\n\n  return (\n    <DndContext\n      collisionDetection={closestCenter}\n      id={useId()}\n      modifiers={[restrictToTableBounds]}\n      onDragEnd={handleDragEnd}\n      sensors={sensors}\n    >\n      <div ref={containerRef}>\n        <DataGridTableBase>\n          <DataGridTableHead>\n            {table\n              .getHeaderGroups()\n              .map((headerGroup: HeaderGroup<TData>, index) => {\n                return (\n                  <DataGridTableHeadRow headerGroup={headerGroup} key={index}>\n                    <SortableContext\n                      items={table.getState().columnOrder}\n                      strategy={horizontalListSortingStrategy}\n                    >\n                      {headerGroup.headers.map((header) => (\n                        <DataGridTableDndHeader\n                          header={header}\n                          key={header.id}\n                        />\n                      ))}\n                    </SortableContext>\n                  </DataGridTableHeadRow>\n                )\n              })}\n          </DataGridTableHead>\n\n          {(props.tableLayout?.stripped || !props.tableLayout?.rowBorder) && (\n            <DataGridTableRowSpacer />\n          )}\n\n          <DataGridTableBody>\n            {props.loadingMode === \"skeleton\" &&\n            isLoading &&\n            pagination?.pageSize ? (\n              Array.from({ length: pagination.pageSize }).map((_, rowIndex) => (\n                <DataGridTableBodyRowSkeleton key={rowIndex}>\n                  {table.getVisibleFlatColumns().map((column, colIndex) => {\n                    return (\n                      <DataGridTableBodyRowSkeletonCell\n                        column={column}\n                        key={colIndex}\n                      >\n                        {column.columnDef.meta?.skeleton}\n                      </DataGridTableBodyRowSkeletonCell>\n                    )\n                  })}\n                </DataGridTableBodyRowSkeleton>\n              ))\n            ) : table.getRowModel().rows.length ? (\n              table.getRowModel().rows.map((row: Row<TData>) => {\n                return (\n                  <Fragment key={row.id}>\n                    <DataGridTableBodyRow row={row}>\n                      {row\n                        .getVisibleCells()\n                        .map((cell: Cell<TData, unknown>) => {\n                          return (\n                            <SortableContext\n                              key={cell.id}\n                              items={table.getState().columnOrder}\n                              strategy={horizontalListSortingStrategy}\n                            >\n                              <DataGridTableDndCell cell={cell} />\n                            </SortableContext>\n                          )\n                        })}\n                    </DataGridTableBodyRow>\n                    {row.getIsExpanded() && (\n                      <DataGridTableBodyRowExpandded row={row} />\n                    )}\n                  </Fragment>\n                )\n              })\n            ) : (\n              <DataGridTableEmpty />\n            )}\n          </DataGridTableBody>\n        </DataGridTableBase>\n      </div>\n    </DndContext>\n  )\n}\n\nexport { DataGridTableDnd }","target":"components/reui/data-grid/data-grid-table-dnd.tsx"},{"path":"data-grid-table.tsx","type":"registry:ui","content":"\"use client\"\n\nimport { CSSProperties, Fragment, ReactNode } from \"react\"\nimport { useDataGrid } from \"@/components/reui/data-grid/data-grid\"\nimport {\n  Cell,\n  Column,\n  flexRender,\n  Header,\n  HeaderGroup,\n  Row,\n} from \"@tanstack/react-table\"\nimport { cva } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\nimport { Checkbox } from \"@/components/ui/checkbox\"\n\nconst headerCellSpacingVariants = cva(\"\", {\n  variants: {\n    size: {\n      dense:\n        \"px-2.5 h-9\",\n      default:\n        \"px-4\",\n    },\n  },\n  defaultVariants: {\n    size: \"default\",\n  },\n})\n\nconst bodyCellSpacingVariants = cva(\"\", {\n  variants: {\n    size: {\n      dense:\n        \"px-2.5 py-2\",\n      default:\n        \"px-4 py-2.5\",\n    },\n  },\n  defaultVariants: {\n    size: \"default\",\n  },\n})\n\nfunction getPinningStyles<TData>(column: Column<TData>): CSSProperties {\n  const isPinned = column.getIsPinned()\n\n  return {\n    left: isPinned === \"left\" ? `${column.getStart(\"left\")}px` : undefined,\n    right: isPinned === \"right\" ? `${column.getAfter(\"right\")}px` : undefined,\n    position: isPinned ? \"sticky\" : \"relative\",\n    width: column.getSize(),\n    zIndex: isPinned ? 1 : 0,\n  }\n}\n\nfunction DataGridTableBase({ children }: { children: ReactNode }) {\n  const { props, table } = useDataGrid()\n\n  return (\n    <table\n      data-slot=\"data-grid-table\"\n      className={cn(\n        \"text-foreground text-sm w-full min-w-full caption-bottom text-left align-middle font-normal rtl:text-right\",\n        props.tableLayout?.width === \"auto\" ? \"table-auto\" : \"table-fixed\",\n        !props.tableLayout?.columnsResizable && \"\",\n        !props.tableLayout?.columnsDraggable &&\n          \"border-separate border-spacing-0\",\n        props.tableClassNames?.base\n      )}\n      style={\n        props.tableLayout?.columnsResizable\n          ? { width: table.getTotalSize() }\n          : undefined\n      }\n    >\n      {children}\n    </table>\n  )\n}\n\nfunction DataGridTableHead({ children }: { children: ReactNode }) {\n  const { props } = useDataGrid()\n\n  return (\n    <thead\n      className={cn(\n        props.tableClassNames?.header,\n        props.tableLayout?.headerSticky && props.tableClassNames?.headerSticky\n      )}\n    >\n      {children}\n    </thead>\n  )\n}\n\nfunction DataGridTableHeadRow<TData>({\n  children,\n  headerGroup,\n}: {\n  children: ReactNode\n  headerGroup: HeaderGroup<TData>\n}) {\n  const { props } = useDataGrid()\n\n  return (\n    <tr\n      key={headerGroup.id}\n      className={cn(\n        \"bg-muted/40\",\n        props.tableLayout?.headerBorder && \"[&>th]:border-b\",\n        props.tableLayout?.cellBorder && \"*:last:border-e-0\",\n        props.tableLayout?.stripped && \"bg-transparent\",\n        props.tableLayout?.headerBackground === false && \"bg-transparent\",\n        props.tableClassNames?.headerRow\n      )}\n    >\n      {children}\n    </tr>\n  )\n}\n\nfunction DataGridTableHeadRowCell<TData>({\n  children,\n  header,\n  dndRef,\n  dndStyle,\n}: {\n  children: ReactNode\n  header: Header<TData, unknown>\n  dndRef?: React.Ref<HTMLTableCellElement>\n  dndStyle?: CSSProperties\n}) {\n  const { props } = useDataGrid()\n\n  const { column } = header\n  const isPinned = column.getIsPinned()\n  const isLastLeftPinned = isPinned === \"left\" && column.getIsLastColumn(\"left\")\n  const isFirstRightPinned =\n    isPinned === \"right\" && column.getIsFirstColumn(\"right\")\n  const headerCellSpacing = headerCellSpacingVariants({\n    size: props.tableLayout?.dense ? \"dense\" : \"default\",\n  })\n\n  return (\n    <th\n      key={header.id}\n      ref={dndRef}\n      style={{\n        ...((props.tableLayout?.width === \"fixed\" ||\n          props.tableLayout?.columnsResizable) && {\n          width: header.getSize(),\n        }),\n        ...(props.tableLayout?.columnsPinnable &&\n          column.getCanPin() &&\n          getPinningStyles(column)),\n        ...(dndStyle ? dndStyle : null),\n      }}\n      data-pinned={isPinned || undefined}\n      data-last-col={\n        isLastLeftPinned ? \"left\" : isFirstRightPinned ? \"right\" : undefined\n      }\n      className={cn(\n        \"text-secondary-foreground/80 h-10 relative text-left align-middle font-normal rtl:text-right [&:has([role=checkbox])]:pe-0\",\n        headerCellSpacing,\n        props.tableLayout?.cellBorder && \"border-e\",\n        props.tableLayout?.columnsResizable &&\n          column.getCanResize() &&\n          \"truncate\",\n        props.tableLayout?.columnsPinnable &&\n          column.getCanPin() &&\n          \"[&[data-pinned][data-last-col]]:border-border data-pinned:bg-muted/90 data-pinned:backdrop-blur-xs [&:not([data-pinned]):has(+[data-pinned])_div.cursor-col-resize:last-child]:opacity-0 [&[data-last-col=left]_div.cursor-col-resize:last-child]:opacity-0 [&[data-pinned=left][data-last-col=left]]:border-e! [&[data-pinned=right]:last-child_div.cursor-col-resize:last-child]:opacity-0 [&[data-pinned=right][data-last-col=right]]:border-s!\",\n        header.column.columnDef.meta?.headerClassName,\n        column.getIndex() === 0 ||\n          column.getIndex() === header.headerGroup.headers.length - 1\n          ? props.tableClassNames?.edgeCell\n          : \"\"\n      )}\n    >\n      {children}\n    </th>\n  )\n}\n\nfunction DataGridTableHeadRowCellResize<TData>({\n  header,\n}: {\n  header: Header<TData, unknown>\n}) {\n  const { column } = header\n\n  return (\n    <div\n      {...{\n        onDoubleClick: () => column.resetSize(),\n        onMouseDown: header.getResizeHandler(),\n        onTouchStart: header.getResizeHandler(),\n        className:\n          \"absolute top-0 h-full w-4 cursor-col-resize user-select-none touch-none -end-2 z-10 flex justify-center before:absolute before:w-px before:inset-y-0 before:bg-border before:-translate-x-px\",\n      }}\n    />\n  )\n}\n\nfunction DataGridTableRowSpacer() {\n  return <tbody aria-hidden=\"true\" className=\"h-2\"></tbody>\n}\n\nfunction DataGridTableBody({ children }: { children: ReactNode }) {\n  const { props } = useDataGrid()\n\n  return (\n    <tbody\n      className={cn(\n        \"[&_tr:last-child]:border-0\",\n        props.tableLayout?.rowRounded &&\n          \"[&_td:first-child]:rounded-l-none\",\n        props.tableLayout?.rowRounded &&\n          \"[&_td:last-child]:rounded-r-none\",\n        props.tableClassNames?.body\n      )}\n    >\n      {children}\n    </tbody>\n  )\n}\n\nfunction DataGridTableBodyRowSkeleton({ children }: { children: ReactNode }) {\n  const { table, props } = useDataGrid()\n\n  return (\n    <tr\n      className={cn(\n        \"hover:bg-muted/40 data-[state=selected]:bg-muted/50\",\n        props.onRowClick && \"cursor-pointer\",\n        !props.tableLayout?.stripped &&\n          props.tableLayout?.rowBorder &&\n          \"border-border border-b [&:not(:last-child)>td]:border-b\",\n        props.tableLayout?.cellBorder && \"*:last:border-e-0\",\n        props.tableLayout?.stripped &&\n          \"odd:bg-muted/90 odd:hover:bg-muted hover:bg-transparent\",\n        table.options.enableRowSelection && \"*:first:relative\",\n        props.tableClassNames?.bodyRow\n      )}\n    >\n      {children}\n    </tr>\n  )\n}\n\nfunction DataGridTableBodyRowSkeletonCell<TData>({\n  children,\n  column,\n}: {\n  children: ReactNode\n  column: Column<TData>\n}) {\n  const { props, table } = useDataGrid()\n  const bodyCellSpacing = bodyCellSpacingVariants({\n    size: props.tableLayout?.dense ? \"dense\" : \"default\",\n  })\n\n  return (\n    <td\n      style={\n        props.tableLayout?.columnsResizable\n          ? { width: column.getSize() }\n          : undefined\n      }\n      className={cn(\n        \"align-middle\",\n        bodyCellSpacing,\n        props.tableLayout?.cellBorder && \"border-e\",\n        props.tableLayout?.columnsResizable &&\n          column.getCanResize() &&\n          \"truncate\",\n        column.columnDef.meta?.cellClassName,\n        props.tableLayout?.columnsPinnable &&\n          column.getCanPin() &&\n          '[&[data-pinned][data-last-col]]:border-border data-pinned:bg-background/90 data-pinned:backdrop-blur-xs\" [&[data-pinned=left][data-last-col=left]]:border-e! [&[data-pinned=right][data-last-col=right]]:border-s!',\n        column.getIndex() === 0 ||\n          column.getIndex() === table.getVisibleFlatColumns().length - 1\n          ? props.tableClassNames?.edgeCell\n          : \"\"\n      )}\n    >\n      {children}\n    </td>\n  )\n}\n\nfunction DataGridTableBodyRow<TData>({\n  children,\n  row,\n  dndRef,\n  dndStyle,\n}: {\n  children: ReactNode\n  row: Row<TData>\n  dndRef?: React.Ref<HTMLTableRowElement>\n  dndStyle?: CSSProperties\n}) {\n  const { props, table } = useDataGrid()\n\n  return (\n    <tr\n      ref={dndRef}\n      style={{ ...(dndStyle ? dndStyle : null) }}\n      data-state={\n        table.options.enableRowSelection && row.getIsSelected()\n          ? \"selected\"\n          : undefined\n      }\n      onClick={() => props.onRowClick && props.onRowClick(row.original)}\n      className={cn(\n        \"hover:bg-muted/40 data-[state=selected]:bg-muted/50\",\n        props.onRowClick && \"cursor-pointer\",\n        !props.tableLayout?.stripped &&\n          props.tableLayout?.rowBorder &&\n          \"border-border border-b [&:not(:last-child)>td]:border-b\",\n        props.tableLayout?.cellBorder && \"*:last:border-e-0\",\n        props.tableLayout?.stripped &&\n          \"odd:bg-muted/90 odd:hover:bg-muted hover:bg-transparent\",\n        table.options.enableRowSelection && \"*:first:relative\",\n        props.tableClassNames?.bodyRow\n      )}\n    >\n      {children}\n    </tr>\n  )\n}\n\nfunction DataGridTableBodyRowExpandded<TData>({ row }: { row: Row<TData> }) {\n  const { props, table } = useDataGrid()\n\n  return (\n    <tr\n      className={cn(\n        props.tableLayout?.rowBorder && \"[&:not(:last-child)>td]:border-b\"\n      )}\n    >\n      <td colSpan={row.getVisibleCells().length}>\n        {table\n          .getAllColumns()\n          .find((column) => column.columnDef.meta?.expandedContent)\n          ?.columnDef.meta?.expandedContent?.(row.original)}\n      </td>\n    </tr>\n  )\n}\n\nfunction DataGridTableBodyRowCell<TData>({\n  children,\n  cell,\n  dndRef,\n  dndStyle,\n}: {\n  children: ReactNode\n  cell: Cell<TData, unknown>\n  dndRef?: React.Ref<HTMLTableCellElement>\n  dndStyle?: CSSProperties\n}) {\n  const { props } = useDataGrid()\n\n  const { column, row } = cell\n  const isPinned = column.getIsPinned()\n  const isLastLeftPinned = isPinned === \"left\" && column.getIsLastColumn(\"left\")\n  const isFirstRightPinned =\n    isPinned === \"right\" && column.getIsFirstColumn(\"right\")\n  const bodyCellSpacing = bodyCellSpacingVariants({\n    size: props.tableLayout?.dense ? \"dense\" : \"default\",\n  })\n\n  return (\n    <td\n      key={cell.id}\n      ref={dndRef}\n      {...(props.tableLayout?.columnsDraggable && !isPinned ? { cell } : {})}\n      style={{\n        ...(props.tableLayout?.columnsResizable && {\n          width: column.getSize(),\n        }),\n        ...(props.tableLayout?.columnsPinnable &&\n          column.getCanPin() &&\n          getPinningStyles(column)),\n        ...(dndStyle ? dndStyle : null),\n      }}\n      data-pinned={isPinned || undefined}\n      data-last-col={\n        isLastLeftPinned ? \"left\" : isFirstRightPinned ? \"right\" : undefined\n      }\n      className={cn(\n        \"align-middle\",\n        bodyCellSpacing,\n        props.tableLayout?.cellBorder && \"border-e\",\n        props.tableLayout?.columnsResizable &&\n          column.getCanResize() &&\n          \"truncate\",\n        cell.column.columnDef.meta?.cellClassName,\n        props.tableLayout?.columnsPinnable &&\n          column.getCanPin() &&\n          '[&[data-pinned][data-last-col]]:border-border data-pinned:bg-background/90 data-pinned:backdrop-blur-xs\" [&[data-pinned=left][data-last-col=left]]:border-e! [&[data-pinned=right][data-last-col=right]]:border-s!',\n        column.getIndex() === 0 ||\n          column.getIndex() === row.getVisibleCells().length - 1\n          ? props.tableClassNames?.edgeCell\n          : \"\"\n      )}\n    >\n      {children}\n    </td>\n  )\n}\n\nfunction DataGridTableEmpty() {\n  const { table, props } = useDataGrid()\n  const totalColumns = table.getAllColumns().length\n\n  return (\n    <tr>\n      <td\n        colSpan={totalColumns}\n        className=\"text-muted-foreground text-sm py-6 text-center\"\n      >\n        {props.emptyMessage || \"No data available\"}\n      </td>\n    </tr>\n  )\n}\n\nfunction DataGridTableLoader() {\n  const { props } = useDataGrid()\n\n  return (\n    <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2\">\n      <div className=\"text-muted-foreground bg-card rounded-2xl text-sm flex items-center gap-2 border px-4 py-2 leading-none font-medium\">\n        <svg\n          className=\"text-muted-foreground -ml-1 h-5 w-5 animate-spin\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n        >\n          <circle\n            className=\"opacity-25\"\n            cx=\"12\"\n            cy=\"12\"\n            r=\"10\"\n            stroke=\"currentColor\"\n            strokeWidth=\"3\"\n          ></circle>\n          <path\n            className=\"opacity-75\"\n            fill=\"currentColor\"\n            d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n          ></path>\n        </svg>\n        {props.loadingMessage || \"Loading...\"}\n      </div>\n    </div>\n  )\n}\n\nfunction DataGridTableRowSelect<TData>({ row }: { row: Row<TData> }) {\n  return (\n    <>\n      <div\n        className={cn(\n          \"bg-primary absolute start-0 top-0 bottom-0 hidden w-[2px]\",\n          row.getIsSelected() && \"block\"\n        )}\n      ></div>\n      <Checkbox\n        checked={row.getIsSelected()}\n        onCheckedChange={(value) => row.toggleSelected(!!value)}\n        aria-label=\"Select row\"\n        className=\"align-[inherit]\"\n      />\n    </>\n  )\n}\n\nfunction DataGridTableRowSelectAll() {\n  const { table, recordCount, isLoading } = useDataGrid()\n\n  const isAllSelected = table.getIsAllPageRowsSelected()\n  const isSomeSelected = table.getIsSomePageRowsSelected()\n\n  return (\n    <Checkbox\n      checked={\n        isSomeSelected && !isAllSelected ? \"indeterminate\" : isAllSelected\n      }\n      disabled={isLoading || recordCount === 0}\n      onCheckedChange={(value) => table.toggleAllPageRowsSelected(!!value)}\n      aria-label=\"Select all\"\n      className=\"align-[inherit]\"\n    />\n  )\n}\n\nfunction DataGridTable<TData>() {\n  const { table, isLoading, props } = useDataGrid()\n  const pagination = table.getState().pagination\n\n  return (\n    <DataGridTableBase>\n      <DataGridTableHead>\n        {table\n          .getHeaderGroups()\n          .map((headerGroup: HeaderGroup<TData>, index) => {\n            return (\n              <DataGridTableHeadRow headerGroup={headerGroup} key={index}>\n                {headerGroup.headers.map((header, index) => {\n                  const { column } = header\n\n                  return (\n                    <DataGridTableHeadRowCell header={header} key={index}>\n                      {header.isPlaceholder\n                        ? null\n                        : flexRender(\n                            header.column.columnDef.header,\n                            header.getContext()\n                          )}\n                      {props.tableLayout?.columnsResizable &&\n                        column.getCanResize() && (\n                          <DataGridTableHeadRowCellResize header={header} />\n                        )}\n                    </DataGridTableHeadRowCell>\n                  )\n                })}\n              </DataGridTableHeadRow>\n            )\n          })}\n      </DataGridTableHead>\n\n      {(props.tableLayout?.stripped || !props.tableLayout?.rowBorder) && (\n        <DataGridTableRowSpacer />\n      )}\n\n      <DataGridTableBody>\n        {isLoading &&\n        props.loadingMode === \"skeleton\" &&\n        pagination?.pageSize ? (\n          // Show skeleton loading immediately\n          Array.from({ length: pagination.pageSize }).map((_, rowIndex) => (\n            <DataGridTableBodyRowSkeleton key={rowIndex}>\n              {table.getVisibleFlatColumns().map((column, colIndex) => {\n                return (\n                  <DataGridTableBodyRowSkeletonCell\n                    column={column}\n                    key={colIndex}\n                  >\n                    {column.columnDef.meta?.skeleton}\n                  </DataGridTableBodyRowSkeletonCell>\n                )\n              })}\n            </DataGridTableBodyRowSkeleton>\n          ))\n        ) : isLoading && props.loadingMode === \"spinner\" ? (\n          // Show spinner loading immediately\n          <tr>\n            <td colSpan={table.getVisibleFlatColumns().length} className=\"p-8\">\n              <div className=\"flex items-center justify-center\">\n                <svg\n                  className=\"text-muted-foreground mr-3 -ml-1 h-5 w-5 animate-spin\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <circle\n                    className=\"opacity-25\"\n                    cx=\"12\"\n                    cy=\"12\"\n                    r=\"10\"\n                    stroke=\"currentColor\"\n                    strokeWidth=\"4\"\n                  ></circle>\n                  <path\n                    className=\"opacity-75\"\n                    fill=\"currentColor\"\n                    d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                  ></path>\n                </svg>\n                {props.loadingMessage || \"Loading...\"}\n              </div>\n            </td>\n          </tr>\n        ) : table.getRowModel().rows.length ? (\n          // Show actual data when not loading\n          table.getRowModel().rows.map((row: Row<TData>, index) => {\n            return (\n              <Fragment key={row.id}>\n                <DataGridTableBodyRow row={row} key={index}>\n                  {row\n                    .getVisibleCells()\n                    .map((cell: Cell<TData, unknown>, colIndex) => {\n                      return (\n                        <DataGridTableBodyRowCell cell={cell} key={colIndex}>\n                          {flexRender(\n                            cell.column.columnDef.cell,\n                            cell.getContext()\n                          )}\n                        </DataGridTableBodyRowCell>\n                      )\n                    })}\n                </DataGridTableBodyRow>\n                {row.getIsExpanded() && (\n                  <DataGridTableBodyRowExpandded row={row} />\n                )}\n              </Fragment>\n            )\n          })\n        ) : (\n          <DataGridTableEmpty />\n        )}\n      </DataGridTableBody>\n    </DataGridTableBase>\n  )\n}\n\nexport {\n  DataGridTable,\n  DataGridTableBase,\n  DataGridTableBody,\n  DataGridTableBodyRow,\n  DataGridTableBodyRowCell,\n  DataGridTableBodyRowExpandded,\n  DataGridTableBodyRowSkeleton,\n  DataGridTableBodyRowSkeletonCell,\n  DataGridTableEmpty,\n  DataGridTableHead,\n  DataGridTableHeadRow,\n  DataGridTableHeadRowCell,\n  DataGridTableHeadRowCellResize,\n  DataGridTableLoader,\n  DataGridTableRowSelect,\n  DataGridTableRowSelectAll,\n  DataGridTableRowSpacer,\n}","target":"components/reui/data-grid/data-grid-table.tsx"},{"path":"data-grid.tsx","type":"registry:ui","content":"\"use client\"\n\nimport { createContext, ReactNode, useContext } from \"react\"\nimport {\n  ColumnFiltersState,\n  RowData,\n  SortingState,\n  Table,\n} from \"@tanstack/react-table\"\n\nimport { cn } from \"@/lib/utils\"\n\ndeclare module \"@tanstack/react-table\" {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  interface ColumnMeta<TData extends RowData, TValue> {\n    headerTitle?: string\n    headerClassName?: string\n    cellClassName?: string\n    skeleton?: ReactNode\n    expandedContent?: (row: TData) => ReactNode\n  }\n}\n\nexport type DataGridApiFetchParams = {\n  pageIndex: number\n  pageSize: number\n  sorting?: SortingState\n  filters?: ColumnFiltersState\n  searchQuery?: string\n}\n\nexport type DataGridApiResponse<T> = {\n  data: T[]\n  empty: boolean\n  pagination: {\n    total: number\n    page: number\n  }\n}\n\nexport interface DataGridContextProps<TData extends object> {\n  props: DataGridProps<TData>\n  table: Table<TData>\n  recordCount: number\n  isLoading: boolean\n}\n\nexport type DataGridRequestParams = {\n  pageIndex: number\n  pageSize: number\n  sorting?: SortingState\n  columnFilters?: ColumnFiltersState\n}\n\nexport interface DataGridProps<TData extends object> {\n  className?: string\n  table?: Table<TData>\n  recordCount: number\n  children?: ReactNode\n  onRowClick?: (row: TData) => void\n  isLoading?: boolean\n  loadingMode?: \"skeleton\" | \"spinner\"\n  loadingMessage?: ReactNode | string\n  emptyMessage?: ReactNode | string\n  tableLayout?: {\n    dense?: boolean\n    cellBorder?: boolean\n    rowBorder?: boolean\n    rowRounded?: boolean\n    stripped?: boolean\n    headerBackground?: boolean\n    headerBorder?: boolean\n    headerSticky?: boolean\n    width?: \"auto\" | \"fixed\"\n    columnsVisibility?: boolean\n    columnsResizable?: boolean\n    columnsPinnable?: boolean\n    columnsMovable?: boolean\n    columnsDraggable?: boolean\n    rowsDraggable?: boolean\n  }\n  tableClassNames?: {\n    base?: string\n    header?: string\n    headerRow?: string\n    headerSticky?: string\n    body?: string\n    bodyRow?: string\n    footer?: string\n    edgeCell?: string\n  }\n}\n\nconst DataGridContext = createContext<\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  DataGridContextProps<any> | undefined\n>(undefined)\n\nfunction useDataGrid() {\n  const context = useContext(DataGridContext)\n  if (!context) {\n    throw new Error(\"useDataGrid must be used within a DataGridProvider\")\n  }\n  return context\n}\n\nfunction DataGridProvider<TData extends object>({\n  children,\n  table,\n  ...props\n}: DataGridProps<TData> & { table: Table<TData> }) {\n  return (\n    <DataGridContext.Provider\n      value={{\n        props,\n        table,\n        recordCount: props.recordCount,\n        isLoading: props.isLoading || false,\n      }}\n    >\n      {children}\n    </DataGridContext.Provider>\n  )\n}\n\nfunction DataGrid<TData extends object>({\n  children,\n  table,\n  ...props\n}: DataGridProps<TData>) {\n  const defaultProps: Partial<DataGridProps<TData>> = {\n    loadingMode: \"skeleton\",\n    tableLayout: {\n      dense: false,\n      cellBorder: false,\n      rowBorder: true,\n      rowRounded: false,\n      stripped: false,\n      headerSticky: false,\n      headerBackground: true,\n      headerBorder: true,\n      width: \"fixed\",\n      columnsVisibility: false,\n      columnsResizable: false,\n      columnsPinnable: false,\n      columnsMovable: false,\n      columnsDraggable: false,\n      rowsDraggable: false,\n    },\n    tableClassNames: {\n      base: \"\",\n      header: \"\",\n      headerRow: \"\",\n      headerSticky: \"sticky top-0 z-10 bg-background/90 backdrop-blur-xs\",\n      body: \"\",\n      bodyRow: \"\",\n      footer: \"\",\n      edgeCell: \"\",\n    },\n  }\n\n  const mergedProps: DataGridProps<TData> = {\n    ...defaultProps,\n    ...props,\n    tableLayout: {\n      ...defaultProps.tableLayout,\n      ...(props.tableLayout || {}),\n    },\n    tableClassNames: {\n      ...defaultProps.tableClassNames,\n      ...(props.tableClassNames || {}),\n    },\n  }\n\n  // Ensure table is provided\n  if (!table) {\n    throw new Error('DataGrid requires a \"table\" prop')\n  }\n\n  return (\n    <DataGridProvider table={table} {...mergedProps}>\n      {children}\n    </DataGridProvider>\n  )\n}\n\nfunction DataGridContainer({\n  children,\n  className,\n  border = true,\n}: {\n  children: ReactNode\n  className?: string\n  border?: boolean\n}) {\n  return (\n    <div\n      data-slot=\"data-grid\"\n      className={cn(\n        \"w-full overflow-hidden\",\n        border &&\n          \"border-border rounded-2xl border\",\n        className\n      )}\n    >\n      {children}\n    </div>\n  )\n}\n\nexport { useDataGrid, DataGridProvider, DataGrid, DataGridContainer }","target":"components/reui/data-grid/data-grid.tsx"}]}