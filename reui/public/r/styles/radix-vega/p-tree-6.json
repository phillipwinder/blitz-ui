{"$schema":"https://ui.shadcn.com/schema/registry-item.json","name":"p-tree-6","type":"registry:block","title":"Organization chart tree with avatars","description":"Organization chart tree with avatars","dependencies":["@headless-tree/core","@headless-tree/react"],"registryDependencies":["avatar","https://reui.io/r/styles/radix-vega/tree.json"],"files":[{"path":"p-tree-6.tsx","type":"registry:block","content":"\"use client\"\n\nimport {\n  Tree,\n  TreeItem,\n  TreeItemLabel,\n} from \"@/components/reui/tree\"\nimport { hotkeysCoreFeature, syncDataLoaderFeature } from \"@headless-tree/core\"\nimport { useTree } from \"@headless-tree/react\"\n\nimport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n} from \"@/components/ui/avatar\"\n\ninterface OrgItem {\n  name: string\n  role?: string\n  avatar?: string\n  children?: string[]\n}\n\nconst items: Record<string, OrgItem> = {\n  company: { name: \"Acme Inc.\", children: [\"ceo\"] },\n  ceo: {\n    name: \"Sarah Chen\",\n    role: \"CEO\",\n    avatar:\n      \"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=96&h=96&dpr=2&q=80\",\n    children: [\"cto\", \"coo\", \"cfo\"],\n  },\n  cto: {\n    name: \"Alex Johnson\",\n    role: \"CTO\",\n    avatar:\n      \"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=96&h=96&dpr=2&q=80\",\n    children: [\"eng-lead\", \"design-lead\"],\n  },\n  coo: {\n    name: \"Emma Wilson\",\n    role: \"COO\",\n    avatar:\n      \"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=96&h=96&dpr=2&q=80\",\n    children: [\"ops-mgr\", \"hr-mgr\"],\n  },\n  cfo: {\n    name: \"David Kim\",\n    role: \"CFO\",\n    avatar:\n      \"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=96&h=96&dpr=2&q=80\",\n    children: [\"finance-mgr\"],\n  },\n  \"eng-lead\": {\n    name: \"Michael Rodriguez\",\n    role: \"Engineering Lead\",\n    avatar:\n      \"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=96&h=96&dpr=2&q=80\",\n    children: [\"dev-1\", \"dev-2\"],\n  },\n  \"design-lead\": {\n    name: \"Lisa Park\",\n    role: \"Design Lead\",\n    avatar:\n      \"https://images.unsplash.com/photo-1534528741775-53994a69daeb?w=96&h=96&dpr=2&q=80\",\n  },\n  \"ops-mgr\": {\n    name: \"James Brown\",\n    role: \"Operations Manager\",\n    avatar:\n      \"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=96&h=96&dpr=2&q=80\",\n  },\n  \"hr-mgr\": {\n    name: \"Amy Taylor\",\n    role: \"HR Manager\",\n    avatar:\n      \"https://images.unsplash.com/photo-1580489944761-15a19d654956?w=96&h=96&dpr=2&q=80\",\n  },\n  \"finance-mgr\": {\n    name: \"Robert Davis\",\n    role: \"Finance Manager\",\n    avatar:\n      \"https://images.unsplash.com/photo-1519345182560-3f2917c472ef?w=96&h=96&dpr=2&q=80\",\n  },\n  \"dev-1\": {\n    name: \"Tom Harris\",\n    role: \"Senior Developer\",\n    avatar:\n      \"https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?w=96&h=96&dpr=2&q=80\",\n  },\n  \"dev-2\": {\n    name: \"Nina Patel\",\n    role: \"Developer\",\n    avatar:\n      \"https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=96&h=96&dpr=2&q=80\",\n  },\n}\n\nconst indent = 24\n\nexport function Pattern() {\n  const tree = useTree<OrgItem>({\n    initialState: {\n      expandedItems: [\"ceo\", \"cto\"],\n    },\n    indent,\n    rootItemId: \"company\",\n    getItemName: (item) => item.getItemData().name,\n    isItemFolder: (item) => (item.getItemData()?.children?.length ?? 0) > 0,\n    dataLoader: {\n      getItem: (itemId) => items[itemId],\n      getChildren: (itemId) => items[itemId].children ?? [],\n    },\n    features: [syncDataLoaderFeature, hotkeysCoreFeature],\n  })\n\n  return (\n    <div className=\"mx-auto w-full grow place-self-start lg:w-xs\">\n      <Tree indent={indent} tree={tree}>\n        {tree.getItems().map((item) => {\n          const data = item.getItemData()\n          const initials = data.name\n            .split(\" \")\n            .map((n) => n[0])\n            .join(\"\")\n\n          return (\n            <TreeItem key={item.getId()} item={item}>\n              <TreeItemLabel className=\"gap-2 py-1\">\n                <Avatar className=\"size-6 shrink-0\">\n                  <AvatarImage src={data.avatar} alt={data.name} />\n                  <AvatarFallback className=\"text-[9px]\">\n                    {initials}\n                  </AvatarFallback>\n                </Avatar>\n                <span className=\"flex flex-col items-start\">\n                  <span className=\"text-sm leading-tight\">{data.name}</span>\n                  {data.role && (\n                    <span className=\"text-muted-foreground text-[10px] leading-tight\">\n                      {data.role}\n                    </span>\n                  )}\n                </span>\n              </TreeItemLabel>\n            </TreeItem>\n          )\n        })}\n      </Tree>\n    </div>\n  )\n}","target":"components/patterns/p-tree-6.tsx"}]}