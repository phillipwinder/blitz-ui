{"$schema":"https://ui.shadcn.com/schema/registry-item.json","name":"p-tree-5","type":"registry:block","title":"File explorer tree with type icons","description":"File explorer tree with type icons","dependencies":["@headless-tree/core","@headless-tree/react"],"registryDependencies":["https://reui.io/r/styles/radix-vega/tree.json"],"files":[{"path":"p-tree-5.tsx","type":"registry:block","content":"\"use client\"\n\nimport {\n  Tree,\n  TreeItem,\n  TreeItemLabel,\n} from \"@/components/reui/tree\"\nimport { hotkeysCoreFeature, syncDataLoaderFeature } from \"@headless-tree/core\"\nimport { useTree } from \"@headless-tree/react\"\n\nimport { IconPlaceholder } from \"@/app/(create)/components/icon-placeholder\"\n\ninterface FileItem {\n  name: string\n  children?: string[]\n  type?: \"folder\" | \"ts\" | \"tsx\" | \"css\" | \"json\" | \"md\" | \"config\"\n}\n\nconst items: Record<string, FileItem> = {\n  root: {\n    name: \"my-project\",\n    children: [\"src\", \"public\", \"package-json\", \"readme\", \"tsconfig\"],\n  },\n  src: {\n    name: \"src\",\n    children: [\"app\", \"components\", \"lib\", \"globals-css\"],\n    type: \"folder\",\n  },\n  app: {\n    name: \"app\",\n    children: [\"page-tsx\", \"layout-tsx\", \"loading-tsx\"],\n    type: \"folder\",\n  },\n  \"page-tsx\": { name: \"page.tsx\", type: \"tsx\" },\n  \"layout-tsx\": { name: \"layout.tsx\", type: \"tsx\" },\n  \"loading-tsx\": { name: \"loading.tsx\", type: \"tsx\" },\n  components: {\n    name: \"components\",\n    children: [\"button-tsx\", \"card-tsx\", \"dialog-tsx\"],\n    type: \"folder\",\n  },\n  \"button-tsx\": { name: \"button.tsx\", type: \"tsx\" },\n  \"card-tsx\": { name: \"card.tsx\", type: \"tsx\" },\n  \"dialog-tsx\": { name: \"dialog.tsx\", type: \"tsx\" },\n  lib: { name: \"lib\", children: [\"utils-ts\", \"api-ts\"], type: \"folder\" },\n  \"utils-ts\": { name: \"utils.ts\", type: \"ts\" },\n  \"api-ts\": { name: \"api.ts\", type: \"ts\" },\n  \"globals-css\": { name: \"globals.css\", type: \"css\" },\n  public: { name: \"public\", children: [\"favicon\"], type: \"folder\" },\n  favicon: { name: \"favicon.ico\", type: \"config\" },\n  \"package-json\": { name: \"package.json\", type: \"json\" },\n  readme: { name: \"README.md\", type: \"md\" },\n  tsconfig: { name: \"tsconfig.json\", type: \"json\" },\n}\n\nconst getFileIcon = (type?: string, isExpanded?: boolean) => {\n  if (!type || type === \"folder\") {\n    return isExpanded ? (\n      <IconPlaceholder\n        lucide=\"FolderOpenIcon\"\n        tabler=\"IconFolderOpen\"\n        hugeicons=\"FolderOpenIcon\"\n        phosphor=\"FolderOpenIcon\"\n        remixicon=\"RiFolderOpenLine\"\n        className=\"pointer-events-none size-4 text-amber-500\"\n      />\n    ) : (\n      <IconPlaceholder\n        lucide=\"FolderIcon\"\n        tabler=\"IconFolder\"\n        hugeicons=\"FolderIcon\"\n        phosphor=\"FolderIcon\"\n        remixicon=\"RiFolderLine\"\n        className=\"pointer-events-none size-4 text-amber-500\"\n      />\n    )\n  }\n  if (type === \"tsx\" || type === \"ts\") {\n    return (\n      <IconPlaceholder\n        lucide=\"FileCodeIcon\"\n        tabler=\"IconFileCode\"\n        hugeicons=\"FileScriptIcon\"\n        phosphor=\"FileCodeIcon\"\n        remixicon=\"RiFileCodeLine\"\n        className=\"pointer-events-none size-4 text-blue-500\"\n      />\n    )\n  }\n  if (type === \"css\") {\n    return (\n      <IconPlaceholder\n        lucide=\"PaletteIcon\"\n        tabler=\"IconPalette\"\n        hugeicons=\"PaintBoardIcon\"\n        phosphor=\"PaletteIcon\"\n        remixicon=\"RiPaletteLine\"\n        className=\"pointer-events-none size-4 text-purple-500\"\n      />\n    )\n  }\n  if (type === \"json\") {\n    return (\n      <IconPlaceholder\n        lucide=\"BracesIcon\"\n        tabler=\"IconBraces\"\n        hugeicons=\"CodeIcon\"\n        phosphor=\"BracketsCurly\"\n        remixicon=\"RiBracesLine\"\n        className=\"pointer-events-none size-4 text-yellow-500\"\n      />\n    )\n  }\n  if (type === \"md\") {\n    return (\n      <IconPlaceholder\n        lucide=\"FileTextIcon\"\n        tabler=\"IconFileText\"\n        hugeicons=\"File02Icon\"\n        phosphor=\"FileTextIcon\"\n        remixicon=\"RiFileTextLine\"\n        className=\"text-muted-foreground pointer-events-none size-4\"\n      />\n    )\n  }\n  return (\n    <IconPlaceholder\n      lucide=\"FileIcon\"\n      tabler=\"IconFile\"\n      hugeicons=\"FileEmpty02Icon\"\n      phosphor=\"FileIcon\"\n      remixicon=\"RiFileLine\"\n      className=\"text-muted-foreground pointer-events-none size-4\"\n    />\n  )\n}\n\nconst indent = 20\n\nexport function Pattern() {\n  const tree = useTree<FileItem>({\n    initialState: {\n      expandedItems: [\"src\", \"app\", \"components\"],\n    },\n    indent,\n    rootItemId: \"root\",\n    getItemName: (item) => item.getItemData().name,\n    isItemFolder: (item) => (item.getItemData()?.children?.length ?? 0) > 0,\n    dataLoader: {\n      getItem: (itemId) => items[itemId],\n      getChildren: (itemId) => items[itemId].children ?? [],\n    },\n    features: [syncDataLoaderFeature, hotkeysCoreFeature],\n  })\n\n  return (\n    <div className=\"mx-auto w-full grow place-self-start lg:w-xs\">\n      <Tree indent={indent} tree={tree}>\n        {tree.getItems().map((item) => (\n          <TreeItem key={item.getId()} item={item}>\n            <TreeItemLabel className=\"before:bg-background relative before:absolute before:inset-x-0 before:-inset-y-0.5 before:-z-10\">\n              <span className=\"flex items-center gap-2\">\n                {getFileIcon(item.getItemData().type, item.isExpanded())}\n                {item.getItemName()}\n              </span>\n            </TreeItemLabel>\n          </TreeItem>\n        ))}\n      </Tree>\n    </div>\n  )\n}","target":"components/patterns/p-tree-5.tsx"}]}