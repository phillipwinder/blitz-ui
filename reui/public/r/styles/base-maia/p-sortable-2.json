{"$schema":"https://ui.shadcn.com/schema/registry-item.json","name":"p-sortable-2","type":"registry:block","title":"Sortable list of items with grid layout","description":"Sortable list of items with grid layout","dependencies":["sonner"],"registryDependencies":["https://reui.io/r/styles/base-maia/badge.json","https://reui.io/r/styles/base-maia/sortable.json"],"files":[{"path":"p-sortable-2.tsx","type":"registry:block","content":"\"use client\"\n\nimport { useState } from \"react\"\nimport { Badge } from \"@/components/reui/badge\"\nimport {\n  Sortable,\n  SortableItem,\n  SortableItemHandle,\n} from \"@/components/reui/sortable\"\nimport { toast } from \"sonner\"\n\nimport { cn } from \"@/lib/utils\"\nimport { IconPlaceholder } from \"@/app/(create)/components/icon-placeholder\"\n\ninterface GridItem {\n  id: string\n  title: string\n  description: string\n  type: \"image\" | \"document\" | \"audio\" | \"video\" | \"featured\"\n  size: string\n  priority: \"high\" | \"medium\" | \"low\"\n}\n\nconst defaultGridItems: GridItem[] = [\n  {\n    id: \"1\",\n    title: \"Hero Image\",\n    description: \"Main banner image\",\n    type: \"image\",\n    size: \"2.4 MB\",\n    priority: \"high\",\n  },\n  {\n    id: \"2\",\n    title: \"Product Specs\",\n    description: \"Technical documentation\",\n    type: \"document\",\n    size: \"1.2 MB\",\n    priority: \"medium\",\n  },\n  {\n    id: \"3\",\n    title: \"Demo Video\",\n    description: \"Product demonstration\",\n    type: \"video\",\n    size: \"15.7 MB\",\n    priority: \"high\",\n  },\n  {\n    id: \"4\",\n    title: \"Audio Guide\",\n    description: \"Voice instructions\",\n    type: \"audio\",\n    size: \"8.3 MB\",\n    priority: \"low\",\n  },\n  {\n    id: \"5\",\n    title: \"Gallery Photo 1\",\n    description: \"Product view 1\",\n    type: \"image\",\n    size: \"3.1 MB\",\n    priority: \"medium\",\n  },\n  {\n    id: \"6\",\n    title: \"Gallery Photo 2\",\n    description: \"Product view 2\",\n    type: \"image\",\n    size: \"2.8 MB\",\n    priority: \"medium\",\n  },\n  {\n    id: \"7\",\n    title: \"User Manual\",\n    description: \"Installation guide\",\n    type: \"document\",\n    size: \"4.2 MB\",\n    priority: \"high\",\n  },\n  {\n    id: \"8\",\n    title: \"Background Music\",\n    description: \"Ambient soundtrack\",\n    type: \"audio\",\n    size: \"12.1 MB\",\n    priority: \"low\",\n  },\n  {\n    id: \"9\",\n    title: \"Feature Highlight\",\n    description: \"Key product features\",\n    type: \"featured\",\n    size: \"N/A\",\n    priority: \"high\",\n  },\n]\n\nconst getTypeColor = (type: GridItem[\"type\"]) => {\n  switch (type) {\n    case \"image\":\n      return \"primary-light\"\n    case \"document\":\n      return \"success-light\"\n    case \"audio\":\n      return \"destructive-light\"\n    case \"video\":\n      return \"info-light\"\n    case \"featured\":\n      return \"warning-light\"\n  }\n}\n\nconst getItemSize = (type: GridItem[\"type\"]) => {\n  switch (type) {\n    case \"featured\":\n      return \"col-span-2 row-span-2\"\n    case \"image\":\n    case \"video\":\n      return \"col-span-1 row-span-1\"\n    case \"document\":\n    case \"audio\":\n      return \"col-span-1 row-span-1\"\n    default:\n      return \"col-span-1 row-span-1\"\n  }\n}\n\nexport function Pattern() {\n  const [items, setItems] = useState<GridItem[]>(defaultGridItems)\n\n  const handleValueChange = (newItems: GridItem[]) => {\n    setItems(newItems)\n\n    // Show toast with new order\n    toast.success(\"Grid items reordered successfully!\", {\n      description: `New order: ${newItems.map((item, index) => `${index + 1}. ${item.title}`).join(\", \")}`,\n    })\n  }\n\n  const getItemValue = (item: GridItem) => item.id\n\n  return (\n    <div className=\"mx-auto w-full max-w-2xl space-y-6 p-4\">\n      <Sortable\n        value={items}\n        onValueChange={handleValueChange}\n        getItemValue={getItemValue}\n        strategy=\"grid\"\n        className=\"grid auto-rows-fr grid-cols-3 gap-3\"\n      >\n        {items.map((item) => (\n          <SortableItem key={item.id} value={item.id}>\n            <div\n              className={cn(\n                \"group bg-background border-border hover:bg-accent/50 rounded-3xl relative cursor-pointer border p-3 transition-colors\",\n                getItemSize(item.type),\n                \"flex min-h-[100px] flex-col\"\n              )}\n              onClick={() => {}}\n            >\n              <SortableItemHandle className=\"text-muted-foreground hover:text-foreground absolute end-1.5 top-2.5 z-10 opacity-0 transition-opacity group-hover:opacity-100\">\n                <IconPlaceholder\n                  lucide=\"GripVerticalIcon\"\n                  tabler=\"IconGripVertical\"\n                  hugeicons=\"DragDropVerticalIcon\"\n                  phosphor=\"DotsSixVerticalIcon\"\n                  remixicon=\"RiDraggable\"\n                  className=\"h-3.5 w-3.5\"\n                />\n              </SortableItemHandle>\n\n              <div className=\"min-w-0 flex-1\">\n                <h4 className=\"truncate text-sm font-medium\">{item.title}</h4>\n                <p className=\"text-muted-foreground mt-0.5 truncate text-xs\">\n                  {item.description}\n                </p>\n              </div>\n\n              <div className=\"mt-2 flex items-center justify-between\">\n                <Badge variant={getTypeColor(item.type)} size=\"sm\">\n                  {item.type}\n                </Badge>\n                {item.type !== \"featured\" && (\n                  <span className=\"text-muted-foreground text-xs\">\n                    {item.size}\n                  </span>\n                )}\n              </div>\n            </div>\n          </SortableItem>\n        ))}\n      </Sortable>\n    </div>\n  )\n}","target":"components/patterns/p-sortable-2.tsx"}]}