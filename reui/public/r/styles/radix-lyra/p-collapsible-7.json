{"$schema":"https://ui.shadcn.com/schema/registry-item.json","name":"p-collapsible-7","type":"registry:block","title":"Nested collapsible list with actions","description":"Nested collapsible list with actions","dependencies":[],"registryDependencies":["button","collapsible","dropdown-menu","https://reui.io/r/styles/radix-lyra/frame.json","https://reui.io/r/styles/radix-lyra/use-copy-to-clipboard.json"],"files":[{"path":"p-collapsible-7.tsx","type":"registry:block","content":"\"use client\"\n\nimport { useState } from \"react\"\nimport { useCopyToClipboard } from \"@/hooks/use-copy-to-clipboard\"\nimport {\n  Frame,\n  FrameHeader,\n  FramePanel,\n  FrameTitle,\n} from \"@/components/reui/frame\"\n\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from \"@/components/ui/collapsible\"\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\"\nimport { IconPlaceholder } from \"@/app/(create)/components/icon-placeholder\"\n\nconst initialKeys = [\n  { id: \"1\", name: \"Production\", key: \"AUDO230454*242SDIFPPL\" },\n  { id: \"2\", name: \"Development\", key: \"DUILO30454*242SDIFUIP\" },\n  { id: \"3\", name: \"Staging\", key: \"IPPODAS230454*242SDI\" },\n]\n\nexport function Pattern() {\n  const [keys, setKeys] = useState(initialKeys)\n\n  return (\n    <div className=\"h-54 w-full max-w-xs\">\n      <Frame stacked dense spacing=\"sm\">\n        <Collapsible defaultOpen>\n          <CollapsibleTrigger className=\"flex w-full\">\n            <FrameHeader className=\"flex grow flex-row items-center justify-between gap-1.5 py-1!\">\n              <IconPlaceholder\n                lucide=\"ChevronRightIcon\"\n                tabler=\"IconChevronRight\"\n                hugeicons=\"ArrowRight01Icon\"\n                phosphor=\"CaretRightIcon\"\n                remixicon=\"RiArrowRightSLine\"\n                aria-hidden=\"true\"\n                className=\"text-muted-foreground size-4 transition-transform in-data-[state=open]:rotate-90\"\n              />\n              <FrameTitle className=\"text-sm font-medium\">API Keys</FrameTitle>\n              <Button\n                variant=\"ghost\"\n                size=\"icon-sm\"\n                className=\"hover:border-border ml-auto\"\n              >\n                <IconPlaceholder\n                  lucide=\"PlusIcon\"\n                  tabler=\"IconPlus\"\n                  hugeicons=\"PlusSignIcon\"\n                  phosphor=\"PlusIcon\"\n                  remixicon=\"RiAddLine\"\n                  aria-hidden=\"true\"\n                />\n              </Button>\n            </FrameHeader>\n          </CollapsibleTrigger>\n          <CollapsibleContent>\n            <FramePanel>\n              <div className=\"flex flex-col gap-2.5\">\n                {keys.map((item) => (\n                  <ApiKeyItem\n                    key={item.id}\n                    item={item}\n                    onDelete={(id) =>\n                      setKeys((k) => k.filter((i) => i.id !== id))\n                    }\n                  />\n                ))}\n              </div>\n            </FramePanel>\n          </CollapsibleContent>\n        </Collapsible>\n      </Frame>\n    </div>\n  )\n}\n\nfunction ApiKeyItem({\n  item,\n  onDelete,\n}: {\n  item: (typeof initialKeys)[0]\n  onDelete: (id: string) => void\n}) {\n  const { isCopied, copyToClipboard } = useCopyToClipboard()\n\n  return (\n    <div className=\"flex items-center justify-between gap-3.5\">\n      <div className=\"flex items-center gap-3\">\n        <div className=\"flex items-center gap-1.5\">\n          <div className=\"bg-muted border-border/60 flex size-5.5 shrink-0 items-center justify-center rounded-sm border-2\">\n            <IconPlaceholder\n              lucide=\"LockIcon\"\n              tabler=\"IconLock\"\n              hugeicons=\"SquareLock01Icon\"\n              phosphor=\"LockSimpleIcon\"\n              remixicon=\"RiLockLine\"\n              aria-hidden=\"true\"\n              className=\"size-3.25 text-emerald-600\"\n            />\n          </div>\n          <div className=\"w-10 truncate text-xs\">{item.name}</div>\n        </div>\n        <div className=\"bg-muted w-40 truncate rounded-md px-2 py-1 text-xs\">\n          {item.key}\n        </div>\n      </div>\n      <div className=\"flex shrink-0 items-center\">\n        <DropdownMenu>\n          <DropdownMenuTrigger asChild>\n            <Button variant=\"ghost\" size=\"icon-xs\">\n              <IconPlaceholder\n                lucide=\"MoreHorizontalIcon\"\n                tabler=\"IconDots\"\n                hugeicons=\"MoreHorizontalCircle01Icon\"\n                phosphor=\"DotsThreeIcon\"\n                remixicon=\"RiMoreLine\"\n                aria-hidden=\"true\"\n              />\n            </Button>\n          </DropdownMenuTrigger>\n          <DropdownMenuContent align=\"start\" className=\"min-w-32\">\n            <DropdownMenuItem onClick={() => copyToClipboard(item.key)}>\n              {isCopied ? (\n                <IconPlaceholder\n                  lucide=\"CheckIcon\"\n                  tabler=\"IconCheck\"\n                  hugeicons=\"Tick02Icon\"\n                  phosphor=\"CheckIcon\"\n                  remixicon=\"RiCheckLine\"\n                  aria-hidden=\"true\"\n                  className=\"text-green-500\"\n                />\n              ) : (\n                <IconPlaceholder\n                  lucide=\"CopyIcon\"\n                  tabler=\"IconCopy\"\n                  hugeicons=\"CopyIcon\"\n                  phosphor=\"CopyIcon\"\n                  remixicon=\"RiFileCopyLine\"\n                  aria-hidden=\"true\"\n                />\n              )}\n              <span>{isCopied ? \"Copied\" : \"Copy key\"}</span>\n            </DropdownMenuItem>\n            <DropdownMenuItem\n              variant=\"destructive\"\n              onClick={() => onDelete(item.id)}\n            >\n              <IconPlaceholder\n                lucide=\"TrashIcon\"\n                tabler=\"IconTrash\"\n                hugeicons=\"DeleteIcon\"\n                phosphor=\"TrashIcon\"\n                remixicon=\"RiDeleteBinLine\"\n                aria-hidden=\"true\"\n              />\n              <span>Delete</span>\n            </DropdownMenuItem>\n          </DropdownMenuContent>\n        </DropdownMenu>\n      </div>\n    </div>\n  )\n}","target":"components/patterns/p-collapsible-7.tsx"}]}