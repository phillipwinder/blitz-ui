{"$schema":"https://ui.shadcn.com/schema/registry-item.json","name":"p-file-upload-1","type":"registry:block","title":"Basic file upload","description":"Basic file upload","dependencies":[],"registryDependencies":["button","https://reui.io/r/styles/radix-maia/use-file-upload.json"],"files":[{"path":"p-file-upload-1.tsx","type":"registry:block","content":"\"use client\"\n\nimport Image from \"next/image\"\nimport { useFileUpload } from \"@/hooks/use-file-upload\"\n\nimport { Button } from \"@/components/ui/button\"\nimport { IconPlaceholder } from \"@/app/(create)/components/icon-placeholder\"\n\nexport function Pattern() {\n  const [{ files }, { removeFile, openFileDialog, getInputProps }] =\n    useFileUpload({\n      accept: \"image/*\",\n    })\n\n  const previewUrl = files[0]?.preview || null\n  const fileName = files[0]?.file.name || null\n\n  return (\n    <div className=\"flex flex-col items-center gap-2\">\n      <div className=\"inline-flex items-center gap-2 align-top\">\n        <div\n          className=\"border-input rounded-md relative flex size-9 shrink-0 items-center justify-center overflow-hidden border\"\n          aria-label={\n            previewUrl ? \"Preview of uploaded image\" : \"Default user avatar\"\n          }\n        >\n          {previewUrl ? (\n            <Image\n              className=\"size-full object-cover\"\n              src={previewUrl}\n              alt=\"Preview of uploaded image\"\n              width={32}\n              height={32}\n            />\n          ) : (\n            <IconPlaceholder\n              lucide=\"CircleUserRoundIcon\"\n              tabler=\"IconUserCircle\"\n              hugeicons=\"UserCircleIcon\"\n              phosphor=\"UserCircleIcon\"\n              remixicon=\"RiAccountCircleLine\"\n              className=\"opacity-60\"\n              width={16}\n              height={16}\n              aria-hidden=\"true\"\n            />\n          )}\n        </div>\n        <div className=\"relative inline-block\">\n          <Button onClick={openFileDialog} aria-haspopup=\"dialog\">\n            {fileName ? \"Change image\" : \"Upload image\"}\n          </Button>\n          <input\n            {...getInputProps()}\n            className=\"sr-only\"\n            aria-label=\"Upload image file\"\n            tabIndex={-1}\n          />\n        </div>\n      </div>\n      {fileName ? (\n        <div className=\"inline-flex gap-2 text-xs\">\n          <p className=\"text-muted-foreground truncate\" aria-live=\"polite\">\n            {fileName}\n          </p>{\" \"}\n          <button\n            onClick={() => removeFile(files[0]?.id)}\n            className=\"text-destructive cursor-pointer font-medium hover:underline\"\n            aria-label={`Remove ${fileName}`}\n          >\n            Remove\n          </button>\n        </div>\n      ) : (\n        <div className=\"inline-flex gap-2 text-xs\">\n          <p className=\"text-muted-foreground truncate\" aria-live=\"polite\">\n            No image attached\n          </p>\n        </div>\n      )}\n    </div>\n  )\n}","target":"components/patterns/p-file-upload-1.tsx"}]}