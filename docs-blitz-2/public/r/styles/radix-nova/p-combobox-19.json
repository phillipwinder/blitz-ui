{"$schema":"https://ui.shadcn.com/schema/registry-item.json","name":"p-combobox-19","type":"registry:block","title":"A multi-select combobox with user tags","description":"A multi-select combobox with user tags","dependencies":[],"registryDependencies":["avatar","combobox","field","item"],"files":[{"path":"p-combobox-19.tsx","type":"registry:block","content":"\"use client\"\n\nimport { Fragment } from \"react\"\n\nimport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n} from \"@/components/ui/avatar\"\nimport {\n  Combobox,\n  ComboboxChip,\n  ComboboxChips,\n  ComboboxChipsInput,\n  ComboboxContent,\n  ComboboxEmpty,\n  ComboboxItem,\n  ComboboxList,\n  ComboboxValue,\n  useComboboxAnchor,\n} from \"@/components/ui/combobox\"\nimport { Field } from \"@/components/ui/field\"\nimport {\n  Item,\n  ItemContent,\n  ItemDescription,\n  ItemTitle,\n} from \"@/components/ui/item\"\n\nconst users = [\n  {\n    id: \"1\",\n    name: \"Alex Johnson\",\n    email: \"alex@example.com\",\n    avatar:\n      \"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?w=96&h=96&dpr=2&q=80\",\n    initials: \"AJ\",\n  },\n  {\n    id: \"2\",\n    name: \"Sarah Chen\",\n    email: \"sarah@example.com\",\n    avatar:\n      \"https://images.unsplash.com/photo-1519699047748-de8e457a634e?w=96&h=96&dpr=2&q=80\",\n    initials: \"SC\",\n  },\n  {\n    id: \"3\",\n    name: \"Michael Rodriguez\",\n    email: \"michael@example.com\",\n    avatar:\n      \"https://images.unsplash.com/photo-1584308972272-9e4e7685e80f?w=96&h=96&dpr=2&q=80\",\n    initials: \"MR\",\n  },\n  {\n    id: \"4\",\n    name: \"Emma Wilson\",\n    email: \"emma@example.com\",\n    avatar:\n      \"https://images.unsplash.com/photo-1485893086445-ed75865251e0?w=96&h=96&dpr=2&q=80\",\n    initials: \"EW\",\n  },\n  {\n    id: \"5\",\n    name: \"David Kim\",\n    email: \"david@example.com\",\n    avatar:\n      \"https://images.unsplash.com/photo-1607990281513-2c110a25bd8c?w=96&h=96&dpr=2&q=80\",\n    initials: \"DK\",\n  },\n  {\n    id: \"6\",\n    name: \"Aron Thompson\",\n    email: \"lisa@example.com\",\n    avatar:\n      \"https://images.unsplash.com/photo-1527980965255-d3b416303d12?w=96&h=96&dpr=2&q=80\",\n    initials: \"LT\",\n  },\n  {\n    id: \"7\",\n    name: \"James Brown\",\n    email: \"james@example.com\",\n    avatar:\n      \"https://images.unsplash.com/photo-1543299750-19d1d6297053?w=96&h=96&dpr=2&q=80\",\n    initials: \"JB\",\n  },\n  {\n    id: \"8\",\n    name: \"Maria Garcia\",\n    email: \"maria@example.com\",\n    avatar:\n      \"https://images.unsplash.com/photo-1620075225255-8c2051b6c015?w=96&h=96&dpr=2&q=80\",\n    initials: \"MG\",\n  },\n  {\n    id: \"9\",\n    name: \"Nick Johnson\",\n    email: \"nick@example.com\",\n    avatar:\n      \"https://images.unsplash.com/photo-1485206412256-701ccc5b93ca?w=96&h=96&dpr=2&q=80\",\n    initials: \"NJ\",\n  },\n  {\n    id: \"10\",\n    name: \"Liam Thompson\",\n    email: \"liam@example.com\",\n    avatar:\n      \"https://images.unsplash.com/photo-1542595913-85d69b0edbaf?w=96&h=96&dpr=2&q=80\",\n    initials: \"LT\",\n  },\n]\n\nconst members = users.map((user, index) => ({\n  ...user,\n  position: [\n    \"Software Engineer\",\n    \"Product Manager\",\n    \"UX Designer\",\n    \"Technical Lead\",\n    \"CTO\",\n  ][index % 5],\n}))\n\nexport function Pattern() {\n  const anchor = useComboboxAnchor()\n\n  return (\n    <Field className=\"max-w-xs\">\n      <Combobox\n        multiple\n        items={members}\n        itemToStringValue={(member: (typeof members)[number]) => member.name}\n        defaultValue={[members[0], members[1]]}\n      >\n        <ComboboxChips\n          ref={anchor}\n          className=\"has-data-[slot=combobox-chip]:pl-1\"\n        >\n          <ComboboxValue>\n            {(selectedMembers: (typeof members)[number][]) => (\n              <Fragment>\n                {selectedMembers.map((member) => (\n                  <ComboboxChip\n                    key={member.id}\n                    showRemove={true}\n                    className=\"rounded-full gap-1.5\"\n                  >\n                    <Avatar className=\"size-4\">\n                      <AvatarImage src={member.avatar} alt={member.name} />\n                      <AvatarFallback className=\"text-[8px]\">\n                        {member.initials}\n                      </AvatarFallback>\n                    </Avatar>\n                    {member.name}\n                  </ComboboxChip>\n                ))}\n                <ComboboxChipsInput placeholder=\"Add members...\" />\n              </Fragment>\n            )}\n          </ComboboxValue>\n        </ComboboxChips>\n        <ComboboxContent\n          anchor={anchor}\n          className=\"max-w-(--anchor-width) min-w-(--anchor-width)\"\n        >\n          <ComboboxEmpty>No members found.</ComboboxEmpty>\n          <ComboboxList>\n            {(member) => (\n              <ComboboxItem key={member.id} value={member}>\n                <Item size=\"xs\" className=\"p-0\">\n                  <Avatar className=\"size-6\">\n                    <AvatarImage src={member.avatar} alt={member.name} />\n                    <AvatarFallback>{member.initials}</AvatarFallback>\n                  </Avatar>\n                  <ItemContent>\n                    <ItemTitle className=\"whitespace-nowrap\">\n                      {member.name}\n                    </ItemTitle>\n                    <ItemDescription>{member.position}</ItemDescription>\n                  </ItemContent>\n                </Item>\n              </ComboboxItem>\n            )}\n          </ComboboxList>\n        </ComboboxContent>\n      </Combobox>\n    </Field>\n  )\n}","target":"components/patterns/p-combobox-19.tsx"}]}