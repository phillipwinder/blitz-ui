{"$schema":"https://ui.shadcn.com/schema/registry-item.json","name":"p-button-44","type":"registry:block","title":"Async action button with loading and success states","description":"Async action button with loading and success states","dependencies":[],"registryDependencies":["button","spinner"],"files":[{"path":"p-button-44.tsx","type":"registry:block","content":"\"use client\"\n\nimport { useEffect, useState } from \"react\"\n\nimport { Button } from \"@/components/ui/button\"\nimport { Spinner } from \"@/components/ui/spinner\"\nimport { IconPlaceholder } from \"@/app/(create)/components/icon-placeholder\"\n\ntype Status = \"idle\" | \"loading\" | \"success\"\n\nexport function Pattern() {\n  const [status, setStatus] = useState<Status>(\"idle\")\n\n  useEffect(() => {\n    if (status !== \"success\") return\n\n    const timer = setTimeout(() => setStatus(\"idle\"), 2000)\n    return () => clearTimeout(timer)\n  }, [status])\n\n  return (\n    <Button\n      onClick={() => {\n        if (status !== \"idle\") return\n\n        setStatus(\"loading\")\n        setTimeout(() => setStatus(\"success\"), 900)\n      }}\n      disabled={status === \"loading\"}\n      aria-busy={status === \"loading\"}\n      aria-live=\"polite\"\n      className=\"min-w-32\"\n    >\n      {status === \"loading\" ? (\n        <>\n          <Spinner aria-hidden=\"true\" />\n          Savingâ€¦\n        </>\n      ) : status === \"success\" ? (\n        <>\n          <IconPlaceholder\n            lucide=\"CheckIcon\"\n            tabler=\"IconCheck\"\n            hugeicons=\"Tick02Icon\"\n            phosphor=\"CheckIcon\"\n            remixicon=\"RiCheckLine\"\n            aria-hidden=\"true\"\n          />\n          Saved\n        </>\n      ) : (\n        \"Save changes\"\n      )}\n    </Button>\n  )\n}","target":"components/patterns/p-button-44.tsx"}]}