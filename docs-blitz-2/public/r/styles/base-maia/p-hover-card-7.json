{"$schema":"https://ui.shadcn.com/schema/registry-item.json","name":"p-hover-card-7","type":"registry:block","title":"Timestamp hover card with active relative time","description":"Timestamp hover card with active relative time","dependencies":["date-fns"],"registryDependencies":["https://reui.io/r/styles/base-maia/badge.json","hover-card","separator"],"files":[{"path":"p-hover-card-7.tsx","type":"registry:block","content":"\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { Badge } from \"@/components/reui/badge\"\nimport { format, formatDistanceToNow } from \"date-fns\"\n\nimport {\n  HoverCard,\n  HoverCardContent,\n  HoverCardTrigger,\n} from \"@/components/ui/hover-card\"\nimport { Separator } from \"@/components/ui/separator\"\n\nexport function Pattern() {\n  const [now, setNow] = useState(new Date())\n\n  useEffect(() => {\n    const timer = setInterval(() => setNow(new Date()), 1000)\n    return () => clearInterval(timer)\n  }, [])\n\n  // Static reference time for the \"last deployed\" example\n  const referenceTime = new Date(now.getTime() - 1000 * 60 * 120) // 2 hours ago\n\n  return (\n    <div className=\"flex min-h-[100px] items-center justify-center\">\n      <p className=\"text-muted-foreground text-sm\">\n        Last deployed{\" \"}\n        <HoverCard>\n          <HoverCardTrigger\n            delay={100}\n            closeDelay={100}\n            className=\"text-foreground cursor-default underline decoration-dashed decoration-1 underline-offset-4\"\n          >\n            {formatDistanceToNow(referenceTime, { addSuffix: true })}\n          </HoverCardTrigger>\n          <HoverCardContent className=\"w-78 p-0\">\n            <p className=\"text-foreground px-2 py-1 font-medium\">\n              {formatDistanceToNow(referenceTime, { addSuffix: true })}\n            </p>\n            <Separator />\n            <div className=\"px-2 py-1.5\">\n              <table>\n                <tbody>\n                  <tr>\n                    <td className=\"pr-4 pb-1.5\">\n                      <Badge variant=\"outline\">UTC</Badge>\n                    </td>\n                    <td className=\"pr-6 pb-1.5\">\n                      {format(referenceTime, \"MMM d, yyyy\")}\n                    </td>\n                    <td className=\"text-muted-foreground pb-1.5\">\n                      {format(referenceTime, \"hh:mm:ss a\")}\n                    </td>\n                  </tr>\n                  <tr>\n                    <td className=\"pr-4\">\n                      <span className=\"bg-muted rounded px-1.5 py-0.5 font-medium\">\n                        {Intl.DateTimeFormat()\n                          .resolvedOptions()\n                          .timeZone.split(\"/\")\n                          .pop()\n                          ?.replace(\"_\", \" \") || \"Local\"}\n                      </span>\n                    </td>\n                    <td className=\"pr-6\">{format(now, \"MMM d, yyyy\")}</td>\n                    <td className=\"text-muted-foreground w-28\">\n                      {format(now, \"hh:mm:ss a\")}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>\n          </HoverCardContent>\n        </HoverCard>{\" \"}\n        by CI/CD pipeline.\n      </p>\n    </div>\n  )\n}","target":"components/patterns/p-hover-card-7.tsx"}]}