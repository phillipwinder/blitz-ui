{"$schema":"https://ui.shadcn.com/schema/registry-item.json","name":"p-date-selector-2","type":"registry:block","title":"Date selector with popover","description":"Date selector with popover","dependencies":[],"registryDependencies":["button","https://reui.io/r/styles/base-vega/date-selector.json","popover","separator"],"files":[{"path":"p-date-selector-2.tsx","type":"registry:block","content":"\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport {\n  DateSelector,\n  formatDateValue,\n  type DateSelectorValue,\n} from \"@/components/reui/date-selector\"\n\nimport { Button } from \"@/components/ui/button\"\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\"\nimport { Separator } from \"@/components/ui/separator\"\nimport { IconPlaceholder } from \"@/app/(create)/components/icon-placeholder\"\n\nexport function Pattern() {\n  const [value, setValue] = useState<DateSelectorValue | undefined>()\n  const [open, setOpen] = useState(false)\n  const [internalValue, setInternalValue] = useState<\n    DateSelectorValue | undefined\n  >(value)\n\n  const formattedValue = value ? formatDateValue(value) : \"\"\n  const displayText = formattedValue || \"Select a date\"\n\n  useEffect(() => {\n    if (open) {\n      setInternalValue(value)\n    }\n  }, [open, value])\n\n  const handleApply = () => {\n    setValue(internalValue)\n    setOpen(false)\n  }\n\n  const handleCancel = () => {\n    setInternalValue(value)\n    setOpen(false)\n  }\n\n  return (\n    <Popover open={open} onOpenChange={setOpen}>\n      <PopoverTrigger\n        render={\n          <Button variant=\"outline\" className=\"w-56 justify-start\">\n            <IconPlaceholder\n              lucide=\"CalendarIcon\"\n              tabler=\"IconCalendarEvent\"\n              hugeicons=\"Calendar04Icon\"\n              phosphor=\"CalendarBlankIcon\"\n              remixicon=\"RiCalendarLine\"\n            />\n            {displayText}\n          </Button>\n        }\n      />\n      <PopoverContent className=\"w-auto gap-3 p-0\" align=\"start\" sideOffset={4}>\n        <div className=\"p-3\">\n          <DateSelector\n            value={internalValue}\n            onChange={setInternalValue}\n            allowRange={true}\n            label=\"Due date\"\n            inputHint=\"Try: 2025, Q4, 05/10/2025\"\n          />\n        </div>\n        <Separator className=\"p-0\" />\n        <div className=\"flex justify-end gap-2 p-3 pt-0\">\n          <Button variant=\"outline\" onClick={handleCancel}>\n            Cancel\n          </Button>\n          <Button onClick={handleApply}>Apply</Button>\n        </div>\n      </PopoverContent>\n    </Popover>\n  )\n}","target":"components/patterns/p-date-selector-2.tsx"}]}