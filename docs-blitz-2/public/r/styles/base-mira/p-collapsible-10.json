{"$schema":"https://ui.shadcn.com/schema/registry-item.json","name":"p-collapsible-10","type":"registry:block","title":"Tree view with file actions","description":"Tree view with file actions","dependencies":[],"registryDependencies":["button","card","collapsible","item","tabs"],"files":[{"path":"p-collapsible-10.tsx","type":"registry:block","content":"\"use client\"\n\nimport { useState } from \"react\"\n\nimport { Button } from \"@/components/ui/button\"\nimport { Card, CardContent, CardHeader } from \"@/components/ui/card\"\nimport {\n  Collapsible,\n  CollapsibleContent,\n  CollapsibleTrigger,\n} from \"@/components/ui/collapsible\"\nimport {\n  Item,\n  ItemActions,\n  ItemMedia,\n  ItemTitle,\n} from \"@/components/ui/item\"\nimport { Tabs, TabsList, TabsTrigger } from \"@/components/ui/tabs\"\nimport { IconPlaceholder } from \"@/app/(create)/components/icon-placeholder\"\n\ntype FileTreeItem = { name: string } | { name: string; items: FileTreeItem[] }\n\nconst fileTree: FileTreeItem[] = [\n  {\n    name: \"components\",\n    items: [\n      {\n        name: \"ui\",\n        items: [\n          { name: \"button.tsx\" },\n          { name: \"card.tsx\" },\n          { name: \"dialog.tsx\" },\n        ],\n      },\n      { name: \"login-form.tsx\" },\n    ],\n  },\n  {\n    name: \"lib\",\n    items: [{ name: \"utils.ts\" }, { name: \"api.ts\" }],\n  },\n  {\n    name: \"hooks\",\n    items: [{ name: \"use-debounce.ts\" }, { name: \"use-local-storage.ts\" }],\n  },\n  { name: \"app.tsx\" },\n  { name: \"package.json\" },\n]\n\nfunction TreeItem({\n  item,\n  level = 0,\n  selectedId,\n  onSelect,\n}: {\n  item: FileTreeItem\n  level?: number\n  selectedId?: string | null\n  onSelect?: (name: string) => void\n}) {\n  const isFolder = \"items\" in item\n  const isSelected = selectedId === item.name\n\n  if (isFolder) {\n    return (\n      <Collapsible className=\"group/collapsible\">\n        <CollapsibleTrigger\n          render={\n            <Item\n              size=\"xs\"\n              className=\"hover:bg-accent data-[state=open]:bg-accent cursor-pointer py-1.5\"\n              style={{ paddingLeft: `${level * 12 + 8}px` }}\n            />\n          }\n        >\n          <ItemMedia variant=\"icon\">\n            <IconPlaceholder\n              lucide=\"ChevronRightIcon\"\n              tabler=\"IconChevronRight\"\n              hugeicons=\"ArrowRight01Icon\"\n              phosphor=\"CaretRightIcon\"\n              remixicon=\"RiArrowRightSLine\"\n              aria-hidden=\"true\"\n              className=\"text-muted-foreground size-3 transition-transform in-data-open:rotate-90\"\n            />\n            <IconPlaceholder\n              lucide=\"FolderIcon\"\n              tabler=\"IconFolder\"\n              hugeicons=\"FolderIcon\"\n              phosphor=\"FolderIcon\"\n              remixicon=\"RiFolderLine\"\n              aria-hidden=\"true\"\n              className=\"text-muted-foreground group-hover/item:text-foreground size-3.5\"\n            />\n          </ItemMedia>\n          <ItemTitle className=\"text-sm\">{item.name}</ItemTitle>\n        </CollapsibleTrigger>\n        <CollapsibleContent className=\"data-[state=closed]:animate-collapsible-up data-[state=open]:animate-collapsible-down overflow-hidden pt-0.5\">\n          <div className=\"flex flex-col gap-0.5 ps-1.5\">\n            {item.items.map((child) => (\n              <TreeItem\n                key={child.name}\n                item={child}\n                level={level + 1}\n                selectedId={selectedId}\n                onSelect={onSelect}\n              />\n            ))}\n          </div>\n        </CollapsibleContent>\n      </Collapsible>\n    )\n  }\n\n  return (\n    <Item\n      className=\"group/item hover:bg-accent data-[active=true]:bg-accent cursor-pointer py-1.5\"\n      data-active={isSelected}\n      style={{ paddingLeft: `${level * 12 + 9}px` }}\n      onClick={() => onSelect?.(item.name)}\n    >\n      <ItemMedia variant=\"icon\">\n        <IconPlaceholder\n          lucide=\"FileIcon\"\n          tabler=\"IconFile\"\n          hugeicons=\"FileEmpty02Icon\"\n          phosphor=\"FileIcon\"\n          remixicon=\"RiFileLine\"\n          aria-hidden=\"true\"\n          className=\"text-muted-foreground group-hover/item:text-foreground group-data-[active=true]/item:text-foreground size-4\"\n        />\n      </ItemMedia>\n      <ItemTitle className=\"text-secondary-foreground group-hover/item:text-foreground group-data-[active=true]/item:text-foreground text-sm\">\n        {item.name}\n      </ItemTitle>\n      <ItemActions className=\"-mr-2 ml-auto gap-0 opacity-0 transition-opacity group-hover/item:opacity-100 group-data-[active=true]/item:opacity-100\">\n        <Button size=\"icon-xs\" variant=\"ghost\">\n          <IconPlaceholder\n            lucide=\"DownloadIcon\"\n            tabler=\"IconDownload\"\n            hugeicons=\"Download01Icon\"\n            phosphor=\"DownloadSimpleIcon\"\n            remixicon=\"RiDownload2Line\"\n            aria-hidden=\"true\"\n          />\n        </Button>\n        <Button variant=\"ghost\" size=\"icon-xs\">\n          <IconPlaceholder\n            lucide=\"TrashIcon\"\n            tabler=\"IconTrash\"\n            hugeicons=\"DeleteIcon\"\n            phosphor=\"TrashIcon\"\n            remixicon=\"RiDeleteBinLine\"\n            aria-hidden=\"true\"\n          />\n        </Button>\n      </ItemActions>\n    </Item>\n  )\n}\n\nexport function Pattern() {\n  const [selectedId, setSelectedId] = useState<string | null>(null)\n\n  return (\n    <div className=\"min-h-64 w-72\">\n      <Card size=\"sm\" className=\"gap-1 p-1\">\n        <CardHeader className=\"p-0\">\n          <Tabs defaultValue=\"explorer\">\n            <TabsList className=\"bg-accent h-8 w-full p-1\">\n              <TabsTrigger value=\"explorer\" className=\"text-xs\">\n                Explorer\n              </TabsTrigger>\n              <TabsTrigger value=\"outline\" className=\"text-xs\">\n                Outline\n              </TabsTrigger>\n            </TabsList>\n          </Tabs>\n        </CardHeader>\n        <CardContent className=\"p-0\">\n          <div className=\"flex flex-col gap-0.5\">\n            {fileTree.map((item) => (\n              <TreeItem\n                key={item.name}\n                item={item}\n                selectedId={selectedId}\n                onSelect={setSelectedId}\n              />\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  )\n}","target":"components/patterns/p-collapsible-10.tsx"}]}